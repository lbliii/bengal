/**
 * API Explorer - Terminal-Inspired Documentation Windows
 *
 * Sleek, terminal-like API documentation with:
 * - Window chrome title bars
 * - Neumorphic depth & diffused light
 * - Gradient accents & luminescent edges
 * - Collapsed by default with smooth reveals
 * - Clear visual hierarchy for nested content
 */

/* ============================================
   DESIGN TOKENS FOR API EXPLORER
   ============================================ */

.api-explorer {
  /* Window chrome */
  --api-window-bg: var(--color-bg-elevated);
  --api-window-header-bg: linear-gradient(180deg,
    var(--color-surface) 0%,
    color-mix(in srgb, var(--color-surface) 95%, var(--color-bg-secondary)) 100%);
  --api-window-border: var(--color-border-light);
  --api-window-radius: 12px;

  /* Terminal-inspired styling */
  --api-terminal-dot-red: #ff5f57;
  --api-terminal-dot-yellow: #febc2e;
  --api-terminal-dot-green: #28c840;

  /* Depth & glow */
  --api-shadow-diffused:
    0 4px 24px -4px rgba(0, 0, 0, 0.08),
    0 8px 32px -8px rgba(0, 0, 0, 0.04);
  --api-shadow-elevated:
    0 8px 32px -8px rgba(0, 0, 0, 0.12),
    0 16px 48px -16px rgba(0, 0, 0, 0.08);
  --api-glow-primary: 0 0 20px -4px color-mix(in srgb, var(--color-primary) 25%, transparent);
  --api-glow-accent: 0 0 24px -4px color-mix(in srgb, var(--api-member-accent, var(--color-primary)) 20%, transparent);

  /* Spacing */
  --api-section-gap: var(--space-8);
  --api-member-gap: var(--space-3);
  --api-nested-indent: var(--space-4);

  /* Typography - Use base size for content, inherit theme fonts */
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);

  /* Containment - prevent content overflow */
  max-width: 100%;
  overflow: hidden;
}

[data-theme="dark"] .api-explorer {
  --api-window-bg: var(--color-bg-secondary);
  --api-window-header-bg: linear-gradient(180deg,
    var(--color-bg-elevated) 0%,
    var(--color-bg-secondary) 100%);
  --api-shadow-diffused:
    0 4px 24px -4px rgba(0, 0, 0, 0.25),
    0 8px 32px -8px rgba(0, 0, 0, 0.15);
  --api-shadow-elevated:
    0 8px 32px -8px rgba(0, 0, 0, 0.35),
    0 16px 48px -16px rgba(0, 0, 0, 0.25);
}

/* ============================================
   MODULE HEADER - Information-Dense Title Bar
   ============================================ */

.api-module-header {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-4);
  padding: var(--space-5) var(--space-6);
  margin-bottom: var(--space-8);

  /* Window chrome styling */
  background: var(--api-window-header-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--api-window-radius);

  /* Neumorphic depth with diffused glow */
  box-shadow:
    var(--api-shadow-diffused),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);

  /* Top gradient accent */
  position: relative;
}

.api-module-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg,
    var(--color-primary) 0%,
    var(--color-secondary) 50%,
    var(--color-accent, var(--color-primary)) 100%);
  border-radius: var(--api-window-radius) var(--api-window-radius) 0 0;
  opacity: 0.9;
}

[data-theme="dark"] .api-module-header {
  box-shadow:
    var(--api-shadow-diffused),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2);
}

.api-module-header__top-row {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  grid-column: 1 / -1;
}

.api-module-header__badges {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.api-module-header__short-name {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  background: var(--color-bg-tertiary);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border-light);
}

.api-module-header__title {
  margin: 0;
  font-family: var(--font-mono);
  font-size: var(--text-xl);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-tight);
  color: var(--color-text-primary);
  word-break: break-word;
  overflow-wrap: anywhere;
}

.api-module-header__title code {
  background: none;
  padding: 0;
  color: inherit;
  font-size: inherit;
}

/* Module header description - handles markdown content */
.api-module-header__description {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
  max-width: 65ch;
}

.api-module-header__description > p:first-child {
  margin-top: 0;
}

.api-module-header__description > p:last-child {
  margin-bottom: 0;
}

.api-module-header__description code {
  font-family: var(--font-mono);
  background: var(--color-bg-code);
  padding: 0.1em 0.35em;
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
}

.api-module-header__bottom-row {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
  grid-column: 1 / -1;
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border-light);
  margin-top: var(--space-2);
}

.api-module-header__stats {
  display: flex;
  gap: var(--space-5);
  margin-left: auto;
}

.api-module-header__stat {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.api-module-header__stat-value {
  font-size: var(--text-xl);
  font-weight: var(--weight-bold);
  color: var(--color-primary);
  font-variant-numeric: tabular-nums;
}

.api-module-header__stat-label {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
  font-weight: var(--weight-medium);
}

/* ============================================
   API STATS BAR - Horizontal Pill Display
   ============================================ */

.api-stats {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-3) var(--space-4);
  margin-bottom: var(--space-6);

  background: linear-gradient(180deg,
    var(--color-surface) 0%,
    var(--color-bg-secondary) 100%);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-2xl);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    0 2px 8px -2px rgba(0, 0, 0, 0.06);
}

.api-stat {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-3);
  background: var(--color-bg-tertiary);
  border-radius: var(--radius-xl);
}

.api-stat__count {
  font-size: var(--text-lg);
  font-weight: var(--weight-bold);
  color: var(--color-primary);
  font-variant-numeric: tabular-nums;
}

.api-stat__label {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  font-weight: var(--weight-medium);
}

/* ============================================
   SECTION HEADERS
   ============================================ */

.api-section {
  margin-bottom: var(--api-section-gap);
  /* Contain wide tables/code blocks - allow horizontal scroll if needed */
  max-width: 100%;
  overflow-x: auto;
}

.api-section__title {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-lg);
  font-family: var(--font-heading-section, var(--font-heading));
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--space-4) 0;
  padding-bottom: var(--space-3);
  border-bottom: 2px solid var(--color-border-light);
}

.api-section__title::before {
  content: '';
  width: 4px;
  height: 1.1em;
  background: linear-gradient(180deg,
    var(--api-section-accent, var(--color-primary)) 0%,
    color-mix(in srgb, var(--api-section-accent, var(--color-primary)) 50%, var(--color-secondary)) 100%);
  border-radius: var(--radius-full);
  flex-shrink: 0;
}

.api-section--classes { --api-section-accent: var(--color-info); }
.api-section--functions { --api-section-accent: var(--color-success); }
.api-section--methods { --api-section-accent: var(--color-secondary); }

/* ============================================
   API MEMBER - Terminal Window Cards

   The core component: collapsible windows with
   title bar chrome and content area
   ============================================ */

.api-cards {
  display: flex;
  flex-direction: column;
  gap: var(--api-member-gap);
}

.api-member {
  --api-member-accent: var(--color-primary);

  position: relative;
  border-radius: var(--api-window-radius);
  overflow: hidden;

  /* Window styling */
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);

  /* Neumorphic shadow with diffused light */
  box-shadow:
    var(--api-shadow-diffused),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);

  transition:
    box-shadow 0.2s ease,
    border-color 0.2s ease,
    transform 0.2s ease;
}

/* Type-specific accent colors */
.api-member--class { --api-member-accent: var(--color-info); }
.api-member--dataclass { --api-member-accent: #8b5cf6; /* Purple */ }
.api-member--function { --api-member-accent: var(--color-success); }
.api-member--method { --api-member-accent: var(--color-text-secondary); }
.api-member--property { --api-member-accent: #10b981; /* Emerald */ }
.api-member--async { --api-member-accent: var(--color-warning); }
.api-member--abstract { --api-member-accent: var(--color-secondary); }
/* Private members - visually de-emphasized */
.api-member--private {
  opacity: 0.7;
  --api-member-accent: var(--color-text-muted);
}

.api-member--private .api-member__name::before {
  content: "internal";
  font-family: var(--font-sans);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-muted);
  background: var(--color-bg-secondary);
  padding: 0.15em 0.4em;
  border-radius: var(--radius-sm);
  margin-right: var(--space-2);
  vertical-align: middle;
}

/* Hover state - elevate and glow */
.api-member:hover {
  border-color: color-mix(in srgb, var(--api-member-accent) 40%, var(--color-border));
  box-shadow:
    var(--api-shadow-elevated),
    var(--api-glow-accent),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

/* Open state - prominent left accent + expanded glow */
.api-member[open] {
  box-shadow:
    var(--api-shadow-elevated),
    var(--api-glow-accent),
    inset 0 1px 0 rgba(255, 255, 255, 0.5);
}

.api-member[open]::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 3px;
  height: 100%;
  background: linear-gradient(180deg,
    var(--api-member-accent) 0%,
    color-mix(in srgb, var(--api-member-accent) 60%, transparent) 100%);
}

[data-theme="dark"] .api-member {
  background: var(--color-bg-secondary);
  box-shadow:
    var(--api-shadow-diffused),
    inset 0 1px 0 rgba(255, 255, 255, 0.03);
}

[data-theme="dark"] .api-member:hover,
[data-theme="dark"] .api-member[open] {
  box-shadow:
    var(--api-shadow-elevated),
    0 0 30px -8px color-mix(in srgb, var(--api-member-accent) 30%, transparent);
}

/* Fallback for browsers without color-mix */
@supports not (color: color-mix(in srgb, black, white)) {
  .api-member:hover,
  .api-member[open] {
    border-color: var(--color-primary-light);
    box-shadow: var(--api-shadow-elevated);
  }
}

/* ============================================
   API MEMBER SUMMARY - Window Title Bar

   Horizontal layout with:
   - Window dots (decorative)
   - Type icon
   - Name + badges
   - Meta info (params, return type)
   - Toggle chevron
   ============================================ */

.api-member__summary {
  display: grid;
  grid-template-columns: auto 1fr auto auto;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);

  /* Title bar gradient */
  background: var(--api-window-header-bg);
  border-bottom: 1px solid var(--api-window-border);

  cursor: pointer;
  user-select: none;
  list-style: none;

  transition: background-color 0.15s ease;
}

.api-member__summary::-webkit-details-marker { display: none; }
.api-member__summary::marker { display: none; }

.api-member__summary:hover {
  background: color-mix(in srgb, var(--api-member-accent) 5%, var(--color-surface));
}

[data-theme="dark"] .api-member__summary:hover {
  background: color-mix(in srgb, var(--api-member-accent) 8%, var(--color-bg-secondary));
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-member__summary:hover {
    background: var(--color-bg-secondary);
  }
}

/* Window control dots (decorative) */
.api-member__icon {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
  width: 52px;
}

.api-member__icon::before {
  content: '';
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: linear-gradient(135deg,
    color-mix(in srgb, var(--api-member-accent) 70%, white) 0%,
    var(--api-member-accent) 100%);
  box-shadow:
    inset 0 1px 2px rgba(255, 255, 255, 0.4),
    0 1px 2px rgba(0, 0, 0, 0.1);
}

.api-member[open] .api-member__icon::before {
  box-shadow:
    inset 0 1px 2px rgba(255, 255, 255, 0.4),
    0 0 8px color-mix(in srgb, var(--api-member-accent) 50%, transparent);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-member__icon::before {
    background: var(--color-primary);
  }
}

/* Name & description */
.api-member__info {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.api-member__name-row {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
}

.api-member__name {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  background: none;
  padding: 0;
}

.api-member__desc-preview {
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  color: var(--color-text-muted);
  line-height: var(--leading-snug);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 400px;
}

.api-member[open] .api-member__desc-preview {
  display: none;
}

/* Meta info: params + return - horizontal pills */
.api-member__meta {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  flex-shrink: 0;
}

.api-member__params,
.api-member__count {
  display: flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  background: var(--color-bg-tertiary);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border-light);
}

.api-member__return {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.api-member__return code {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--color-code-type);
  background: var(--color-code-type-bg);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
}

/* Toggle chevron */
.api-member__toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  color: var(--color-text-muted);
  transition: transform 0.2s ease, color 0.2s ease;
}

.api-member[open] .api-member__toggle {
  transform: rotate(90deg);
  color: var(--api-member-accent);
}

/* ============================================
   API MEMBER CONTENT - Window Body

   Expanded content with:
   - Description
   - Signature code block
   - Attributes/Parameters tables
   - Returns/Raises
   - Nested methods
   ============================================ */

.api-member__content {
  padding: var(--space-4) var(--space-5);
  background: var(--color-bg-primary);
  border-top: 1px solid var(--color-border-light);
}

[data-theme="dark"] .api-member__content {
  background: var(--color-bg-tertiary);
}

/* Full description - handles markdown-rendered content */
.api-member__description {
  margin: 0 0 var(--space-4) 0;
  font-family: var(--font-sans);
  font-size: var(--text-base);
  color: var(--color-text-primary);
  line-height: var(--leading-relaxed);
}

/* First paragraph in markdown description shouldn't have top margin */
.api-member__description > p:first-child {
  margin-top: 0;
}

/* Last paragraph shouldn't have bottom margin */
.api-member__description > p:last-child {
  margin-bottom: 0;
}

/* Inline code in descriptions */
.api-member__description code {
  font-family: var(--font-mono);
  background: var(--color-bg-code);
  padding: 0.15em 0.4em;
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
  color: var(--color-text-primary);
}

/* Code blocks inside descriptions */
.api-member__description pre {
  margin: var(--space-3) 0;
  padding: var(--space-3);
  background: var(--color-bg-code);
  border-radius: var(--radius-md);
  overflow-x: auto;
}

.api-member__description pre code {
  background: none;
  padding: 0;
  font-size: var(--text-sm);
}

/* Lists inside descriptions */
.api-member__description ul,
.api-member__description ol {
  margin: var(--space-2) 0;
  padding-left: var(--space-5);
}

.api-member__description li {
  margin: var(--space-1) 0;
}

/* Links in descriptions */
.api-member__description a {
  color: var(--color-primary);
  text-decoration: none;
}

.api-member__description a:hover {
  text-decoration: underline;
}

/* Signature code block - seamless with existing code blocks */
.api-signature {
  margin: var(--space-3) 0 var(--space-4) 0;

  /* Transparent wrapper - let the code-block-wrapper handle styling */
  background: transparent;
  border: none;
  box-shadow: none;
}

/* When signature contains raw pre (fallback templates) */
.api-signature > pre:only-child {
  margin: 0;
  padding: var(--space-3) var(--space-4);
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  background: var(--color-bg-code);
  border-radius: var(--radius-lg);
  border: 1px solid var(--color-border-light);
  overflow-x: auto;
}

/* Remove extra spacing when code-block-wrapper is inside */
.api-signature .code-block-wrapper {
  margin: 0;
}

/* ============================================
   SUBSECTION LABELS
   ============================================ */

.api-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: var(--space-4) 0 var(--space-2) 0;
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
}

.api-label__count {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  background: var(--color-bg-secondary);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

/* ============================================
   ATTRIBUTES TABLE - Clean Grid Layout
   ============================================ */

.api-attributes {
  margin: var(--space-4) 0;
}

.api-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: var(--text-sm);
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 1px solid var(--color-border-light);
}

.api-table thead {
  background: linear-gradient(180deg,
    var(--color-bg-secondary) 0%,
    var(--color-bg-tertiary) 100%);
}

.api-table th {
  padding: var(--space-2) var(--space-3);
  text-align: left;
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
  border-bottom: 1px solid var(--color-border-light);
}

.api-table td {
  padding: var(--space-2) var(--space-3);
  vertical-align: top;
  border-bottom: 1px solid var(--color-border-light);
}

.api-table tbody tr:last-child td {
  border-bottom: none;
}

.api-table tbody tr {
  transition: background-color 0.15s ease;
}

.api-table tbody tr:hover {
  background: var(--color-bg-secondary);
}

.api-table__name code {
  font-family: var(--font-mono);
  font-weight: var(--weight-semibold);
  color: var(--color-primary);
  background: none;
  padding: 0;
}

.api-table__type code {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--color-code-type);
  background: var(--color-code-type-bg);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
}

/* Table description cells - handle inline markdown */
.api-table__desc {
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  line-height: var(--leading-normal);
  /* Make description column greedy - takes remaining space, stretches table to full width */
  width: 100%;
}

.api-table__desc > p {
  margin: 0;
}

.api-table__desc code {
  font-family: var(--font-mono);
  background: var(--color-bg-code);
  padding: 0.1em 0.3em;
  border-radius: var(--radius-sm);
  font-size: var(--text-xs);
}

/* Compact table variant for nested contexts */
.api-table--compact th,
.api-table--compact td {
  padding: var(--space-2);
}

/* Mini table - no headers */
.api-table--mini thead {
  display: none;
}

.api-table--mini {
  font-size: var(--text-xs);
}

/* ============================================
   RETURNS & RAISES - Styled Callouts
   ============================================ */

.api-returns,
.api-raises {
  margin: var(--space-3) 0;
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-lg);
  font-family: var(--font-sans);
  font-size: var(--text-base);
}

.api-returns {
  background: linear-gradient(90deg,
    color-mix(in srgb, var(--color-info) 8%, transparent) 0%,
    color-mix(in srgb, var(--color-info) 3%, transparent) 100%);
  border-left: 3px solid var(--color-info);
}

.api-raises {
  background: linear-gradient(90deg,
    color-mix(in srgb, var(--color-danger) 8%, transparent) 0%,
    color-mix(in srgb, var(--color-danger) 3%, transparent) 100%);
  border-left: 3px solid var(--color-danger);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-returns { background: var(--color-info-bg); }
  .api-raises { background: var(--color-danger-bg); }
}

.api-returns__content,
.api-raises__content {
  margin: 0;
  line-height: var(--leading-relaxed);
}

.api-raises__list {
  list-style: none;
  margin: var(--space-2) 0 0 0;
  padding: 0;
}

.api-raises__list li {
  padding: var(--space-2) 0;
  border-bottom: 1px solid var(--color-border-light);
}

.api-raises__list li:last-child {
  border-bottom: none;
  padding-bottom: 0;
}

/* ============================================
   NESTED METHODS - Indented Child Cards
   ============================================ */

.api-methods {
  margin-top: var(--space-4);
  padding-top: var(--space-3);
  border-top: 1px dashed var(--color-border-light);
}

.api-methods .api-cards {
  margin-left: var(--api-nested-indent);
  padding-left: var(--space-3);
  border-left: 2px solid color-mix(in srgb, var(--color-border) 50%, transparent);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-methods .api-cards {
    border-left-color: var(--color-border-light);
  }
}

.api-methods .api-member {
  --api-window-radius: 8px;
}

.api-methods .api-member__summary {
  padding: var(--space-2) var(--space-3);
}

.api-methods .api-member__icon {
  width: 40px;
}

.api-methods .api-member__icon::before {
  width: 10px;
  height: 10px;
}

/* Internal/Private Methods - Collapsible Section */
.api-methods__internal {
  margin-top: var(--space-4);
  border: 1px dashed var(--color-border-light);
  border-radius: var(--radius-md);
  background: var(--color-bg-secondary);
}

.api-methods__internal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  cursor: pointer;
  user-select: none;
  list-style: none;
}

.api-methods__internal-header::-webkit-details-marker {
  display: none;
}

.api-methods__internal-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.api-methods__internal-label svg {
  opacity: 0.6;
}

.api-methods__internal-header .api-member__toggle {
  transition: transform 0.2s ease;
}

.api-methods__internal[open] .api-methods__internal-header .api-member__toggle {
  transform: rotate(90deg);
}

.api-methods__internal-content {
  padding: var(--space-2) var(--space-3) var(--space-3);
  border-top: 1px dashed var(--color-border-light);
}

.api-methods__internal .api-member {
  opacity: 0.8;
}

.api-methods__internal .api-member:hover {
  opacity: 1;
}

/* ============================================
   CLASS BASES - Inheritance Display
   ============================================ */

.api-class__bases {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
  margin-bottom: var(--space-3);
  padding: var(--space-2) var(--space-3);
  background: linear-gradient(180deg,
    var(--color-bg-secondary) 0%,
    var(--color-bg-tertiary) 100%);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  border: 1px solid var(--color-border-light);
}

.api-class__bases .api-label {
  margin: 0;
  padding: 0;
  font-size: var(--text-xs);
}

.api-class__base {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  color: var(--color-code-type);
  background: var(--color-code-type-bg);
  padding: 2px 8px;
  border-radius: var(--radius-sm);
}

/* ============================================
   BADGES - Compact Type Indicators
   ============================================ */

.api-badge--compact,
.api-badge--inline {
  display: inline-flex;
  align-items: center;
  padding: 3px 8px;
  border-radius: var(--radius-md);
  font-family: var(--font-sans);
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.04em;
  line-height: var(--leading-snug);

  /* Neumorphic badge style */
  background: linear-gradient(180deg,
    var(--color-surface) 0%,
    var(--color-bg-secondary) 100%);
  border: 1px solid var(--color-border-light);
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.api-badge--module {
  color: var(--color-primary);
  border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-primary) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-primary) 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--class,
.api-badge--inline.api-badge--class {
  color: var(--color-info);
  border-color: color-mix(in srgb, var(--color-info) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-info) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-info) 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--dataclass,
.api-badge--inline.api-badge--dataclass {
  color: #8b5cf6;
  border-color: color-mix(in srgb, #8b5cf6 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, #8b5cf6 10%, var(--color-surface)) 0%,
    color-mix(in srgb, #8b5cf6 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--function,
.api-badge--inline.api-badge--function {
  color: var(--color-success);
  border-color: color-mix(in srgb, var(--color-success) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-success) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-success) 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--async,
.api-badge--inline.api-badge--async {
  color: var(--color-warning);
  border-color: color-mix(in srgb, var(--color-warning) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-warning) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-warning) 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--property,
.api-badge--inline.api-badge--property {
  color: #10b981;
  border-color: color-mix(in srgb, #10b981 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, #10b981 10%, var(--color-surface)) 0%,
    color-mix(in srgb, #10b981 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--classmethod,
.api-badge--staticmethod,
.api-badge--inline.api-badge--classmethod,
.api-badge--inline.api-badge--staticmethod {
  color: var(--color-info);
  border-color: color-mix(in srgb, var(--color-info) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-info) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-info) 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--abstract,
.api-badge--inline.api-badge--abstract {
  color: var(--color-text-muted);
  background: linear-gradient(180deg,
    var(--color-bg-secondary) 0%,
    var(--color-bg-tertiary) 100%);
}

.api-badge--deprecated,
.api-badge--inline.api-badge--deprecated {
  color: var(--color-danger);
  border-color: color-mix(in srgb, var(--color-danger) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-danger) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-danger) 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--command {
  color: var(--color-primary);
  border-color: color-mix(in srgb, var(--color-primary) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-primary) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-primary) 5%, var(--color-bg-secondary)) 100%);
}

.api-badge--command-group {
  color: var(--color-secondary);
  border-color: color-mix(in srgb, var(--color-secondary) 30%, transparent);
  background: linear-gradient(180deg,
    color-mix(in srgb, var(--color-secondary) 10%, var(--color-surface)) 0%,
    color-mix(in srgb, var(--color-secondary) 5%, var(--color-bg-secondary)) 100%);
}

/* Fallback for browsers without color-mix */
@supports not (color: color-mix(in srgb, black, white)) {
  .api-badge--compact,
  .api-badge--inline {
    background: var(--color-bg-secondary);
    border-color: var(--color-border);
  }

  .api-badge--module { background: var(--color-primary-light); }
  .api-badge--class { background: var(--color-info-bg); }
  .api-badge--function { background: var(--color-success-bg); }
  .api-badge--async { background: var(--color-warning-bg); }
  .api-badge--deprecated { background: var(--color-danger-bg); }
}

/* ============================================
   SOURCE LINK - Compact Button
   ============================================ */

.api-source-link,
.api-module-header__source a {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  text-decoration: none;

  background: var(--color-bg-secondary);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-lg);

  transition: all 0.15s ease;
}

.api-source-link:hover,
.api-module-header__source a:hover {
  color: var(--color-primary);
  border-color: color-mix(in srgb, var(--color-primary) 40%, var(--color-border));
  background: color-mix(in srgb, var(--color-primary) 5%, var(--color-surface));
  box-shadow: 0 2px 8px -2px color-mix(in srgb, var(--color-primary) 20%, transparent);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-source-link:hover,
  .api-module-header__source a:hover {
    border-color: var(--color-primary-light);
    background: var(--color-surface);
  }
}

/* ============================================
   API CARD (Legacy/Alternate Style)
   ============================================ */

.api-card {
  --api-card-accent: var(--color-primary);
  position: relative;
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--api-window-radius);
  overflow: hidden;
  margin-bottom: var(--space-3);

  box-shadow: var(--api-shadow-diffused);
  transition: box-shadow 0.2s ease, border-color 0.2s ease;
}

.api-card--class { --api-card-accent: var(--color-info); }
.api-card--function { --api-card-accent: var(--color-success); }

.api-card[open] {
  box-shadow:
    var(--api-shadow-elevated),
    var(--api-glow-accent);
}

.api-card[open]::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 3px;
  height: 100%;
  background: linear-gradient(180deg,
    var(--api-card-accent) 0%,
    color-mix(in srgb, var(--api-card-accent) 50%, transparent) 100%);
}

.api-card__header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3) var(--space-4);
  background: var(--api-window-header-bg);
  border-bottom: 1px solid var(--api-window-border);
  cursor: pointer;
  user-select: none;
}

.api-card__header:hover {
  background: color-mix(in srgb, var(--api-card-accent) 5%, var(--color-surface));
}

.api-card__icon {
  font-size: var(--text-lg);
  opacity: 0.7;
  color: var(--api-card-accent);
}

.api-card__name {
  font-family: var(--font-mono);
  font-weight: var(--weight-semibold);
  font-size: var(--text-base);
  color: var(--color-text-primary);
  flex: 1;
}

.api-card__name code {
  background: none;
  padding: 0;
}

.api-card__badges {
  display: flex;
  gap: var(--space-2);
}

.api-card__toggle {
  color: var(--color-text-muted);
  font-size: var(--text-sm);
  transition: transform 0.2s ease;
}

.api-card[open] .api-card__toggle {
  transform: rotate(90deg);
}

.api-card__content {
  padding: var(--space-4);
}

.api-card__description {
  margin: 0 0 var(--space-3);
  color: var(--color-text-secondary);
  font-size: var(--text-sm);
}

/* When using <details> */
details.api-card > summary { list-style: none; }
details.api-card > summary::-webkit-details-marker { display: none; }
details.api-card > summary::marker { display: none; }

/* ============================================
   ANIMATION & TRANSITIONS
   ============================================ */

/* Stagger animation for cards */
@keyframes api-card-reveal {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.api-cards > .api-member,
.api-cards > .api-card {
  animation: api-card-reveal 0.3s ease backwards;
}

.api-cards > *:nth-child(1) { animation-delay: 0ms; }
.api-cards > *:nth-child(2) { animation-delay: 40ms; }
.api-cards > *:nth-child(3) { animation-delay: 80ms; }
.api-cards > *:nth-child(4) { animation-delay: 120ms; }
.api-cards > *:nth-child(5) { animation-delay: 160ms; }
.api-cards > *:nth-child(n+6) { animation-delay: 200ms; }

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */

@media (max-width: 768px) {
  .api-module-header {
    padding: var(--space-4);
    grid-template-columns: 1fr;
  }

  .api-module-header__stats {
    margin-left: 0;
    width: 100%;
    justify-content: flex-start;
  }

  .api-member__summary {
    grid-template-columns: auto 1fr auto;
    gap: var(--space-2);
  }

  .api-member__meta {
    display: none;
  }

  .api-member__desc-preview {
    max-width: 200px;
  }

  .api-stats {
    flex-wrap: wrap;
  }

  .api-methods .api-cards {
    margin-left: var(--space-2);
    padding-left: var(--space-2);
  }
}

@media (max-width: 480px) {
  .api-member__summary {
    padding: var(--space-2) var(--space-3);
  }

  .api-member__icon {
    display: none;
  }

  .api-member__desc-preview {
    display: none;
  }

  .api-table {
    display: block;
  }

  .api-table thead {
    display: none;
  }

  .api-table tbody,
  .api-table tr,
  .api-table td {
    display: block;
  }

  .api-table tr {
    padding: var(--space-3);
    border-bottom: 1px solid var(--color-border-light);
  }

  .api-table td {
    padding: var(--space-1) 0;
    border: none;
  }

  .api-table td::before {
    content: attr(data-label);
    display: block;
    font-size: var(--text-xs);
    font-weight: var(--weight-semibold);
    color: var(--color-text-muted);
    text-transform: uppercase;
    margin-bottom: 2px;
  }
}

/* ============================================
   REDUCED MOTION
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .api-member,
  .api-card,
  .api-member__toggle,
  .api-cards > * {
    animation: none !important;
    transition: none !important;
  }
}

/* ============================================
   PRINT STYLES
   ============================================ */

@media print {
  .api-member,
  .api-card {
    break-inside: avoid;
    box-shadow: none !important;
    border: 1px solid #000;
  }

  .api-member[open] .api-member__content,
  .api-card .api-card__content {
    display: block !important;
  }

  .api-member__toggle,
  .api-card__toggle {
    display: none;
  }

  .api-signature {
    background: #f5f5f5 !important;
    color: #000 !important;
  }
}

/* ============================================
   INDEX PAGE - Package/Module Grid
   ============================================ */

.api-explorer--index {
  max-width: 100%;
  /* Ensure proper containment within docs-main */
  overflow: hidden;
}

/* ============================================
   SECTION HEADER - Title Bar for Index Pages
   ============================================ */

.api-section-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-4);
  border-bottom: 1px solid var(--color-border-light);
  /* Ensure containment */
  max-width: 100%;
  overflow: hidden;
}

.api-section-header__title {
  margin: 0;
  font-size: var(--text-2xl);
  font-weight: var(--weight-bold);
  color: var(--color-text-primary);
  line-height: var(--leading-tight);
}

.api-section-header__description {
  margin: 0;
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
  max-width: 65ch;
}

.api-section-overview {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding: var(--space-5);
  margin-bottom: var(--space-6);
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--api-window-radius);
  box-shadow: var(--api-shadow-diffused);
}

.api-section-overview__description {
  margin: 0;
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
}

.api-section-overview__stats {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.api-pill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--color-bg-tertiary);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] .api-pill {
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.api-pill__label {
  font-weight: var(--weight-medium);
  color: var(--color-text-primary);
}

.api-grid {
  display: grid;
  gap: var(--space-4);
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

.api-grid--packages {
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
}

/* Package Card - Large Feature Card */
.api-package-card {
  display: flex;
  flex-direction: column;
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--api-window-radius);
  overflow: hidden;
  text-decoration: none;
  color: inherit;

  box-shadow: var(--api-shadow-diffused);
  transition:
    box-shadow 0.2s ease,
    transform 0.2s ease,
    border-color 0.2s ease;
}

.api-package-card:hover {
  transform: translateY(-2px);
  box-shadow:
    var(--api-shadow-elevated),
    var(--api-glow-primary);
  border-color: color-mix(in srgb, var(--color-primary) 40%, var(--color-border));
}

.api-package-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg,
    var(--color-primary) 0%,
    var(--color-secondary) 100%);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.api-package-card:hover::before {
  opacity: 1;
}

.api-package-card__header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-4) var(--space-5);
  background: var(--api-window-header-bg);
  border-bottom: 1px solid var(--api-window-border);
}

.api-package-card__icon {
  font-size: var(--text-2xl);
  line-height: var(--leading-none);
  opacity: 0.8;
}

.api-package-card__name {
  font-size: var(--text-lg);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
}

.api-package-card__body {
  flex: 1;
  padding: var(--space-4) var(--space-5);
}

.api-package-card__description {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.api-package-card__footer {
  padding: var(--space-3) var(--space-5);
  background: var(--color-bg-tertiary);
  border-top: 1px solid var(--api-window-border);
}

.api-package-card__meta {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
}

/* Module Card - Compact Card */
.api-module-card {
  display: flex;
  flex-direction: column;
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  text-decoration: none;
  color: inherit;

  box-shadow:
    0 2px 8px -2px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);

  transition:
    box-shadow 0.15s ease,
    transform 0.15s ease,
    border-color 0.15s ease;
}

.api-module-card:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--color-secondary) 40%, var(--color-border));
  box-shadow:
    0 4px 16px -4px rgba(0, 0, 0, 0.1),
    0 0 16px -4px color-mix(in srgb, var(--color-secondary) 15%, transparent);
}

.api-module-card__header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background: var(--api-window-header-bg);
  border-bottom: 1px solid var(--api-window-border);
}

.api-module-card__icon {
  font-size: var(--text-base);
  line-height: var(--leading-none);
  opacity: 0.7;
}

.api-module-card__name {
  flex: 1;
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  font-family: var(--font-mono);
  color: var(--color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.api-module-card__body {
  flex: 1;
  padding: var(--space-3) var(--space-4);
}

.api-module-card__description {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  line-height: var(--leading-normal);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.api-module-card__badges {
  display: flex;
  gap: var(--space-1);
  flex-wrap: wrap;
}

/* ============================================
   ENDPOINT CARD - REST API Endpoint Card
   ============================================ */

.api-grid--endpoints {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

.api-endpoint-card {
  display: flex;
  flex-direction: column;
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
  text-decoration: none;
  color: inherit;
  position: relative;

  box-shadow:
    0 2px 8px -2px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.4);

  transition:
    box-shadow 0.15s ease,
    transform 0.15s ease,
    border-color 0.15s ease;
}

.api-endpoint-card:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--color-success) 40%, var(--color-border));
  box-shadow:
    0 4px 16px -4px rgba(0, 0, 0, 0.1),
    0 0 16px -4px color-mix(in srgb, var(--color-success) 15%, transparent);
}

.api-endpoint-card__header {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-4);
  background: var(--api-window-header-bg);
  border-bottom: 1px solid var(--api-window-border);
}

.api-endpoint-card__icon {
  font-size: var(--text-base);
  line-height: var(--leading-none);
  opacity: 0.7;
}

.api-endpoint-card__name {
  flex: 1;
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  font-family: var(--font-mono);
  color: var(--color-text-primary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.api-endpoint-card__body {
  flex: 1;
  padding: var(--space-3) var(--space-4);
}

.api-endpoint-card__description {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  line-height: var(--leading-normal);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.api-endpoint-card__description--empty {
  color: var(--color-text-muted);
  font-style: italic;
}

/* HTTP Method color coding for endpoint cards */
.api-badge--get { background: var(--color-success-bg); color: var(--color-success); border: 1px solid var(--color-success-light); }
.api-badge--post { background: var(--color-info-bg); color: var(--color-info); border: 1px solid var(--color-info-light); }
.api-badge--put { background: var(--color-warning-bg); color: var(--color-warning); border: 1px solid var(--color-warning-light); }
.api-badge--patch { background: var(--color-secondary-bg, var(--color-warning-bg)); color: var(--color-secondary, var(--color-warning)); border: 1px solid var(--color-secondary-light, var(--color-warning-light)); }
.api-badge--delete { background: var(--color-danger-bg); color: var(--color-danger); border: 1px solid var(--color-danger-light); }

.icon-get { color: var(--color-success); }
.icon-post { color: var(--color-info); }
.icon-put { color: var(--color-warning); }
.icon-patch { color: var(--color-secondary, var(--color-warning)); }
.icon-delete { color: var(--color-danger); }

/* Resource section styling */
.api-section--resources .api-section__title::before {
  background: linear-gradient(180deg,
    var(--color-primary) 0%,
    var(--color-info) 100%);
}

.api-section--endpoints .api-section__title::before {
  background: linear-gradient(180deg,
    var(--color-success) 0%,
    var(--color-primary) 100%);
}

/* Empty State */
.api-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-12);
  text-align: center;
  background: var(--color-bg-secondary);
  border: 1px dashed var(--color-border);
  border-radius: var(--api-window-radius);
}

.api-empty-state__icon {
  font-size: var(--text-5xl);
  margin-bottom: var(--space-4);
  opacity: 0.4;
}

.api-empty-state__text {
  margin: 0;
  font-size: var(--text-lg);
  color: var(--color-text-muted);
}

/* ============================================
   API PARAMETERS SECTION
   ============================================ */

.api-parameters {
  margin: var(--space-4) 0;
}

/* ============================================
   SEE ALSO & METADATA
   ============================================ */

.api-see-also {
  margin: var(--space-3) 0;
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  border-top: 1px solid var(--color-border-light);
  padding-top: var(--space-3);
}

.api-see-also strong {
  color: var(--color-text-muted);
  font-size: var(--text-xs);
  text-transform: uppercase;
  margin-right: var(--space-2);
}

.api-metadata {
  margin: var(--space-2) 0;
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

.api-metadata strong {
  color: var(--color-text-muted);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  font-size: var(--text-xs);
  letter-spacing: 0.05em;
  margin-right: var(--space-2);
}

/* ============================================
   WARNING & INFO CALLOUTS
   ============================================ */

.api-warning,
.api-info {
  margin: var(--space-3) 0;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  display: flex;
  gap: var(--space-2);
  align-items: flex-start;
}

.api-warning {
  background: color-mix(in srgb, var(--color-danger) 8%, transparent);
  color: var(--color-danger);
  border: 1px solid color-mix(in srgb, var(--color-danger) 20%, transparent);
}

.api-info {
  background: color-mix(in srgb, var(--color-info) 8%, transparent);
  color: var(--color-info);
  border: 1px solid color-mix(in srgb, var(--color-info) 20%, transparent);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-warning { background: var(--color-danger-bg); border-color: var(--color-danger-border); }
  .api-info { background: var(--color-info-bg); border-color: var(--color-info-border); }
}

.api-warning strong,
.api-info strong {
  font-weight: var(--weight-semibold);
}

/* ============================================
   SUBSECTION TITLE (H4 in content)
   ============================================ */

.api-subsection-title {
  margin: var(--space-4) 0 var(--space-2) 0;
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
}

/* ============================================
   EXAMPLES SECTION
   ============================================ */

.api-examples {
  margin: var(--space-4) 0;
}

.api-example {
  margin: var(--space-2) 0;
}

/* Let code-block-wrapper handle styling, just remove extra margin */
.api-examples .code-block-wrapper {
  margin: var(--space-2) 0;
}

/* ============================================
   THREE-PANEL REST API LAYOUT
   ============================================ */

/**
 * REST API Explorer 3-panel layout:
 * - Left: Navigation sidebar (260px)
 * - Center: Endpoint documentation (flexible)
 * - Right: Code examples panel (320px)
 */

.docs-layout--api-explorer {
  grid-template-columns: 260px minmax(0, 1fr) 320px;
  grid-template-areas: "sidebar content examples";
}

.api-docs-main {
  grid-area: content;
  min-width: 0;
  padding-block: var(--space-5) var(--space-8);
  padding-inline: var(--space-6);
}

/* API Examples Panel - Right sidebar */
.api-examples-panel {
  grid-area: examples;
  position: sticky;
  top: 60px;
  max-height: calc(100vh - 60px);
  overflow-y: auto;
  overscroll-behavior: contain;
  padding: var(--space-5);
  background: var(--color-bg-secondary);
  border-left: 1px solid var(--color-border-light);
}

.api-examples-panel__content {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.api-examples-panel__title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: 0;
  padding-bottom: var(--space-3);
  font-size: var(--text-sm);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
  border-bottom: 1px solid var(--color-border-light);
}

/* ============================================
   API ENDPOINT HEADER
   ============================================ */

.api-endpoint-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding-bottom: var(--space-5);
  margin-bottom: var(--space-6);
  border-bottom: 1px solid var(--color-border-light);
}

.api-endpoint-header__method-path {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  flex-wrap: wrap;
}

.api-method-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 60px;
  padding: var(--space-2) var(--space-3);
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  font-weight: var(--weight-bold);
  text-transform: uppercase;
  border-radius: var(--radius-md);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.api-method-badge--get {
  background: linear-gradient(180deg, var(--color-success) 0%, color-mix(in srgb, var(--color-success) 85%, black) 100%);
  color: white;
}

.api-method-badge--post {
  background: linear-gradient(180deg, var(--color-info) 0%, color-mix(in srgb, var(--color-info) 85%, black) 100%);
  color: white;
}

.api-method-badge--put {
  background: linear-gradient(180deg, var(--color-warning) 0%, color-mix(in srgb, var(--color-warning) 85%, black) 100%);
  color: white;
}

.api-method-badge--patch {
  background: linear-gradient(180deg, #f59e0b 0%, color-mix(in srgb, #f59e0b 85%, black) 100%);
  color: white;
}

.api-method-badge--delete {
  background: linear-gradient(180deg, var(--color-danger) 0%, color-mix(in srgb, var(--color-danger) 85%, black) 100%);
  color: white;
}

.api-endpoint-path {
  font-family: var(--font-mono);
  font-size: var(--text-lg);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  background: var(--color-bg-code);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  word-break: break-all;
}

.api-endpoint-header__summary {
  margin: 0;
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
  max-width: 65ch;
}

.api-endpoint-header__meta {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--text-sm);
}

.api-meta-label {
  color: var(--color-text-muted);
}

.api-meta-value {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--color-text-secondary);
  background: var(--color-bg-tertiary);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
}

/* ============================================
   API ENDPOINT CONTENT
   ============================================ */

.api-endpoint-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-8);
}

.api-section__heading {
  margin: 0 0 var(--space-4) 0;
  font-size: var(--text-lg);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  padding-bottom: var(--space-2);
  border-bottom: 2px solid var(--color-border-light);
}

/* ============================================
   API RESPONSES
   ============================================ */

.api-responses {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.api-response {
  padding: var(--space-3) var(--space-4);
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-lg);
  border-left: 3px solid var(--color-text-muted);
}

.api-response--2xx { border-left-color: var(--color-success); }
.api-response--3xx { border-left-color: var(--color-info); }
.api-response--4xx { border-left-color: var(--color-warning); }
.api-response--5xx { border-left-color: var(--color-danger); }

.api-response__header {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}

.api-response__status {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  font-weight: var(--weight-bold);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  background: var(--color-bg-tertiary);
}

.api-response__status--2xx { color: var(--color-success); background: var(--color-success-bg); }
.api-response__status--3xx { color: var(--color-info); background: var(--color-info-bg); }
.api-response__status--4xx { color: var(--color-warning); background: var(--color-warning-bg); }
.api-response__status--5xx { color: var(--color-danger); background: var(--color-danger-bg); }

.api-response__description {
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

.api-response__content {
  margin-top: var(--space-2);
  padding-top: var(--space-2);
  border-top: 1px solid var(--color-border-light);
}

/* ============================================
   API EXAMPLE BLOCKS
   ============================================ */

.api-example-block {
  background: var(--color-bg-code);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.api-example-block__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  background: var(--color-bg-tertiary);
  border-bottom: 1px solid var(--color-border-light);
}

.api-example-block__label {
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
}

.api-example-block__status {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  font-weight: var(--weight-bold);
  padding: 2px 6px;
  border-radius: var(--radius-sm);
}

.api-example-block__status--2xx {
  background: var(--color-success-bg);
  color: var(--color-success);
}

.api-example-block__code {
  padding: 0;
}

.api-example-block__code pre {
  margin: 0;
  padding: var(--space-3);
  font-size: var(--text-xs);
  line-height: var(--leading-relaxed);
  overflow-x: auto;
}

.api-example-block__code code {
  font-family: var(--font-mono);
  background: none;
}

/* ============================================
   API CONTENT TYPES
   ============================================ */

.api-content-types {
  display: flex;
  gap: var(--space-2);
  flex-wrap: wrap;
  margin-top: var(--space-2);
}

.api-content-type__label {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  background: var(--color-bg-tertiary);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  border: 1px solid var(--color-border-light);
}

/* ============================================
   RESPONSIVE: API 3-PANEL LAYOUT
   ============================================ */

/* Laptop and below - hide examples panel */
@media (max-width: 1200px) {
  .docs-layout--api-explorer {
    grid-template-columns: 260px minmax(0, 1fr);
    grid-template-areas: "sidebar content";
  }

  .api-examples-panel {
    display: none;
  }
}

/* Tablet and below - sidebar drawer */
@media (max-width: 768px) {
  .docs-layout--api-explorer {
    grid-template-columns: 1fr;
    grid-template-areas: "content";
  }

  .api-docs-main {
    padding: var(--space-4);
  }

  .api-endpoint-header__method-path {
    flex-direction: column;
    align-items: flex-start;
  }

  .api-method-badge {
    min-width: auto;
  }

  .api-endpoint-path {
    font-size: var(--text-base);
  }
}

/* Scrollbar styling for examples panel */
.api-examples-panel::-webkit-scrollbar {
  width: 6px;
}

.api-examples-panel::-webkit-scrollbar-track {
  background: transparent;
}

.api-examples-panel::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 3px;
}

.api-examples-panel::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-tertiary);
}

/* ============================================
   API HUB - Aggregating Landing Page

   Used for /api/ landing pages that aggregate
   multiple API documentation types (Python, REST, CLI)
   ============================================ */

.api-explorer--hub {
  max-width: 100%;
}

/* Hub Grid - Larger cards for API type selection */
.api-hub-grid {
  display: grid;
  gap: var(--space-6);
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
}

/* Hub Card - Feature card for each API type */
.api-hub-card {
  display: flex;
  flex-direction: column;
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--api-window-radius);
  overflow: hidden;
  text-decoration: none;
  color: inherit;
  position: relative;

  box-shadow: var(--api-shadow-diffused);
  transition:
    box-shadow 0.2s ease,
    transform 0.2s ease,
    border-color 0.2s ease;
}

.api-hub-card:hover {
  transform: translateY(-4px);
  box-shadow:
    var(--api-shadow-elevated),
    var(--api-glow-primary);
}

/* Type-specific accent colors and hover effects */
.api-hub-card--python-reference:hover {
  border-color: color-mix(in srgb, #3b82f6 50%, var(--color-border));
  box-shadow:
    var(--api-shadow-elevated),
    0 0 24px -4px color-mix(in srgb, #3b82f6 25%, transparent);
}

.api-hub-card--openapi-reference:hover {
  border-color: color-mix(in srgb, #10b981 50%, var(--color-border));
  box-shadow:
    var(--api-shadow-elevated),
    0 0 24px -4px color-mix(in srgb, #10b981 25%, transparent);
}

.api-hub-card--cli-reference:hover {
  border-color: color-mix(in srgb, #f59e0b 50%, var(--color-border));
  box-shadow:
    var(--api-shadow-elevated),
    0 0 24px -4px color-mix(in srgb, #f59e0b 25%, transparent);
}

/* Top accent bar on hover */
.api-hub-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.api-hub-card--python-reference::before {
  background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
}

.api-hub-card--openapi-reference::before {
  background: linear-gradient(90deg, #10b981 0%, #3b82f6 100%);
}

.api-hub-card--cli-reference::before {
  background: linear-gradient(90deg, #f59e0b 0%, #ef4444 100%);
}

.api-hub-card:hover::before {
  opacity: 1;
}

/* Hub Card Icon - Large icon display */
.api-hub-card__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-6) var(--space-6) var(--space-4);
  background: var(--api-window-header-bg);
}

.api-hub-card__icon svg {
  opacity: 0.8;
  transition: transform 0.2s ease, opacity 0.2s ease;
}

.api-hub-card:hover .api-hub-card__icon svg {
  transform: scale(1.1);
  opacity: 1;
}

/* Icon colors by type */
.icon-python { color: #3b82f6; }
.icon-openapi { color: #10b981; }
.icon-cli { color: #f59e0b; }
.icon-default { color: var(--color-text-muted); }

/* Hub Card Content */
.api-hub-card__content {
  flex: 1;
  padding: var(--space-4) var(--space-5);
  text-align: center;
}

.api-hub-card__title {
  margin: 0 0 var(--space-2) 0;
  font-size: var(--text-xl);
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
}

.api-hub-card__description {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
}

/* Hub Card Footer - Stats and badge */
.api-hub-card__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-3) var(--space-5);
  background: var(--color-bg-tertiary);
  border-top: 1px solid var(--api-window-border);
}

.api-hub-card__meta {
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}

.api-hub-card__badge {
  display: inline-flex;
  align-items: center;
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  border-radius: var(--radius-full);
  border: 1px solid transparent;
}

.api-hub-card__badge--python-reference {
  color: #3b82f6;
  background: color-mix(in srgb, #3b82f6 10%, transparent);
  border-color: color-mix(in srgb, #3b82f6 30%, transparent);
}

.api-hub-card__badge--openapi-reference {
  color: #10b981;
  background: color-mix(in srgb, #10b981 10%, transparent);
  border-color: color-mix(in srgb, #10b981 30%, transparent);
}

.api-hub-card__badge--cli-reference {
  color: #f59e0b;
  background: color-mix(in srgb, #f59e0b 10%, transparent);
  border-color: color-mix(in srgb, #f59e0b 30%, transparent);
}

/* Fallback for browsers without color-mix */
@supports not (color: color-mix(in srgb, black, white)) {
  .api-hub-card:hover {
    border-color: var(--color-primary-light);
    box-shadow: var(--api-shadow-elevated);
  }

  .api-hub-card__badge--python-reference {
    background: rgba(59, 130, 246, 0.1);
    border-color: rgba(59, 130, 246, 0.3);
  }

  .api-hub-card__badge--openapi-reference {
    background: rgba(16, 185, 129, 0.1);
    border-color: rgba(16, 185, 129, 0.3);
  }

  .api-hub-card__badge--cli-reference {
    background: rgba(245, 158, 11, 0.1);
    border-color: rgba(245, 158, 11, 0.3);
  }
}

/* Custom content area for _index.md override */
.api-hub-custom-content {
  margin-bottom: var(--space-8);
  padding-bottom: var(--space-6);
  border-bottom: 1px solid var(--color-border-light);
}

/* Empty state enhancement for hub */
.api-empty-state__hint {
  margin: var(--space-2) 0 0;
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}

/* ============================================
   RESPONSIVE: API HUB
   ============================================ */

@media (max-width: 768px) {
  .api-hub-grid {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  .api-hub-card__icon {
    padding: var(--space-4);
  }

  .api-hub-card__icon svg {
    width: 24px;
    height: 24px;
  }

  .api-hub-card__content {
    padding: var(--space-3) var(--space-4);
  }

  .api-hub-card__title {
    font-size: var(--text-lg);
  }
}

/* ============================================
   ANIMATION: API HUB CARDS
   ============================================ */

@keyframes api-hub-card-reveal {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.api-hub-grid > .api-hub-card {
  animation: api-hub-card-reveal 0.4s ease backwards;
}

.api-hub-grid > .api-hub-card:nth-child(1) { animation-delay: 0ms; }
.api-hub-grid > .api-hub-card:nth-child(2) { animation-delay: 100ms; }
.api-hub-grid > .api-hub-card:nth-child(3) { animation-delay: 200ms; }
.api-hub-grid > .api-hub-card:nth-child(4) { animation-delay: 300ms; }

@media (prefers-reduced-motion: reduce) {
  .api-hub-grid > .api-hub-card {
    animation: none !important;
  }
}
