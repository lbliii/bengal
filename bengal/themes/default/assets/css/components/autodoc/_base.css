/**
 * Autodoc Base Styles
 *
 * Base container and foundational styles for autodoc explorer.
 */

.autodoc-explorer {
  /* Typography - Use base size for content, inherit theme fonts */
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);

  /* Containment - prevent content overflow */
  max-width: 100%;
  overflow: hidden;
}

.autodoc-explorer--index {
  max-width: 100%;
  /* Ensure proper containment within docs-main */
  overflow: hidden;
}

.autodoc-explorer--hub {
  max-width: 100%;
}

/* ============================================
   MODULE HEADER - Information-Dense Title Bar
   ============================================ */

.api-module-header {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-4);
  padding: var(--space-5) var(--space-6);
  margin-bottom: var(--space-8);

  /* Window chrome styling */
  background: var(--api-window-header-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--api-window-radius);

  /* Neumorphic depth with diffused glow */
  box-shadow:
    var(--api-shadow-diffused),
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);

  /* Top gradient accent */
  position: relative;
}

.api-module-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg,
    var(--color-primary) 0%,
    var(--color-secondary) 50%,
    var(--color-accent, var(--color-primary)) 100%);
  border-radius: var(--api-window-radius) var(--api-window-radius) 0 0;
  opacity: 0.9;
}

[data-theme="dark"] .api-module-header {
  box-shadow:
    var(--api-shadow-diffused),
    inset 0 1px 0 rgba(255, 255, 255, 0.05),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2);
}

.api-module-header__top-row {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  grid-column: 1 / -1;
}

.api-module-header__badges {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.api-module-header__short-name {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  background: var(--color-bg-tertiary);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border-light);
}

.api-module-header__title {
  margin: 0;
  font-family: var(--font-mono);
  font-size: var(--text-xl);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-tight);
  color: var(--color-text-primary);
  word-break: break-word;
  overflow-wrap: anywhere;
}

.api-module-header__title code {
  background: none;
  padding: 0;
  color: inherit;
  font-size: inherit;
}

/* Module header description - handles markdown content */
.api-module-header__description {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
  max-width: 65ch;
}

.api-module-header__description > p:first-child {
  margin-top: 0;
}

.api-module-header__description > p:last-child {
  margin-bottom: 0;
}

.api-module-header__description code {
  font-family: var(--font-mono);
  background: var(--color-bg-code);
  padding: 0.1em 0.35em;
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
}

.api-module-header__bottom-row {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  flex-wrap: wrap;
  grid-column: 1 / -1;
  padding-top: var(--space-4);
  border-top: 1px solid var(--color-border-light);
  margin-top: var(--space-2);
}

.api-module-header__stats {
  display: flex;
  gap: var(--space-5);
  margin-left: auto;
}

.api-module-header__stat {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.api-module-header__stat-value {
  font-size: var(--text-xl);
  font-weight: var(--weight-bold);
  color: var(--color-primary);
  font-variant-numeric: tabular-nums;
}

.api-module-header__stat-label {
  font-size: var(--text-xs);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
  font-weight: var(--weight-medium);
}

/* ============================================
   API STATS BAR - Horizontal Pill Display
   ============================================ */

.api-stats {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-3) var(--space-4);
  margin-bottom: var(--space-6);

  background: linear-gradient(180deg,
    var(--color-surface) 0%,
    var(--color-bg-secondary) 100%);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-2xl);

  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    0 2px 8px -2px rgba(0, 0, 0, 0.06);
}

.api-stat {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-1) var(--space-3);
  background: var(--color-bg-tertiary);
  border-radius: var(--radius-xl);
}

.api-stat__count {
  font-size: var(--text-lg);
  font-weight: var(--weight-bold);
  color: var(--color-primary);
  font-variant-numeric: tabular-nums;
}

.api-stat__label {
  font-size: var(--text-xs);
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  font-weight: var(--weight-medium);
}

/* ============================================
   SECTION HEADERS
   ============================================ */

.api-section {
  margin-bottom: var(--api-section-gap);
  /* Contain wide tables/code blocks - allow horizontal scroll if needed */
  max-width: 100%;
  overflow-x: auto;
}

.api-section__title {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  font-size: var(--text-lg);
  font-family: var(--font-heading-section, var(--font-heading));
  font-weight: var(--weight-semibold);
  color: var(--color-text-primary);
  margin: 0 0 var(--space-4) 0;
  padding-bottom: var(--space-3);
  border-bottom: 2px solid var(--color-border-light);
}

.api-section__title::before {
  content: '';
  width: 4px;
  height: 1.1em;
  background: linear-gradient(180deg,
    var(--api-section-accent, var(--color-primary)) 0%,
    color-mix(in srgb, var(--api-section-accent, var(--color-primary)) 50%, var(--color-secondary)) 100%);
  border-radius: var(--radius-full);
  flex-shrink: 0;
}

.api-section--classes { --api-section-accent: var(--color-info); }
.api-section--functions { --api-section-accent: var(--color-success); }
.api-section--methods { --api-section-accent: var(--color-secondary); }

/* ============================================
   SECTION HEADER - Title Bar for Index Pages
   ============================================ */

.api-section-header {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
  padding-bottom: var(--space-4);
  border-bottom: 1px solid var(--color-border-light);
  /* Ensure containment */
  max-width: 100%;
  overflow: hidden;
}

.api-section-header__title {
  margin: 0;
  font-size: var(--text-2xl);
  font-weight: var(--weight-bold);
  color: var(--color-text-primary);
  line-height: var(--leading-tight);
}

.api-section-header__description {
  margin: 0;
  font-size: var(--text-base);
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
  max-width: 65ch;
}

.api-section-overview {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding: var(--space-5);
  margin-bottom: var(--space-6);
  background: var(--api-window-bg);
  border: 1px solid var(--api-window-border);
  border-radius: var(--api-window-radius);
  box-shadow: var(--api-shadow-diffused);
}

.api-section-overview__description {
  margin: 0;
  color: var(--color-text-secondary);
  line-height: var(--leading-relaxed);
}

.api-section-overview__stats {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.api-pill {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--color-bg-tertiary);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-full);
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] .api-pill {
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.api-pill__label {
  font-weight: var(--weight-medium);
  color: var(--color-text-primary);
}

/* ============================================
   SUBSECTION LABELS
   ============================================ */

.api-label {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin: var(--space-4) 0 var(--space-2) 0;
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
}

.api-label__count {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  background: var(--color-bg-secondary);
  padding: 2px 8px;
  border-radius: var(--radius-full);
}

/* ============================================
   SUBSECTION TITLE (H4 in content)
   ============================================ */

.api-subsection-title {
  margin: var(--space-4) 0 var(--space-2) 0;
  font-size: var(--text-xs);
  font-weight: var(--weight-semibold);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
  color: var(--color-text-muted);
}

/* ============================================
   RETURNS & RAISES - Styled Callouts
   ============================================ */

.api-returns,
.api-raises {
  margin: var(--space-3) 0;
  padding: var(--space-3) var(--space-4);
  border-radius: var(--radius-lg);
  font-family: var(--font-sans);
  font-size: var(--text-base);
}

.api-returns {
  background: linear-gradient(90deg,
    color-mix(in srgb, var(--color-info) 8%, transparent) 0%,
    color-mix(in srgb, var(--color-info) 3%, transparent) 100%);
  border-left: 3px solid var(--color-info);
}

.api-raises {
  background: linear-gradient(90deg,
    color-mix(in srgb, var(--color-danger) 8%, transparent) 0%,
    color-mix(in srgb, var(--color-danger) 3%, transparent) 100%);
  border-left: 3px solid var(--color-danger);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-returns { background: var(--color-info-bg); }
  .api-raises { background: var(--color-danger-bg); }
}

.api-returns__content,
.api-raises__content {
  margin: 0;
  line-height: var(--leading-relaxed);
}

.api-raises__list {
  list-style: none;
  margin: var(--space-2) 0 0 0;
  padding: 0;
}

.api-raises__list li {
  padding: var(--space-2) 0;
  border-bottom: 1px solid var(--color-border-light);
}

.api-raises__list li:last-child {
  border-bottom: none;
  padding-bottom: 0;
}

/* ============================================
   CLASS BASES - Inheritance Display
   ============================================ */

.api-class__bases {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  flex-wrap: wrap;
  margin-bottom: var(--space-3);
  padding: var(--space-2) var(--space-3);
  background: linear-gradient(180deg,
    var(--color-bg-secondary) 0%,
    var(--color-bg-tertiary) 100%);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  border: 1px solid var(--color-border-light);
}

.api-class__bases .api-label {
  margin: 0;
  padding: 0;
  font-size: var(--text-xs);
}

.api-class__base {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  color: var(--color-code-type);
  background: var(--color-code-type-bg);
  padding: 2px 8px;
  border-radius: var(--radius-sm);
}

/* ============================================
   SOURCE LINK - Compact Button
   ============================================ */

.api-source-link,
.api-module-header__source a {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-3);
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--color-text-muted);
  text-decoration: none;

  background: var(--color-bg-secondary);
  border: 1px solid var(--color-border-light);
  border-radius: var(--radius-lg);

  transition: all 0.15s ease;
}

.api-source-link:hover,
.api-module-header__source a:hover {
  color: var(--color-primary);
  border-color: color-mix(in srgb, var(--color-primary) 40%, var(--color-border));
  background: color-mix(in srgb, var(--color-primary) 5%, var(--color-surface));
  box-shadow: 0 2px 8px -2px color-mix(in srgb, var(--color-primary) 20%, transparent);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-source-link:hover,
  .api-module-header__source a:hover {
    border-color: var(--color-primary-light);
    background: var(--color-surface);
  }
}

/* ============================================
   WARNING & INFO CALLOUTS
   ============================================ */

.api-warning,
.api-info {
  margin: var(--space-3) 0;
  padding: var(--space-3);
  border-radius: var(--radius-lg);
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: var(--leading-relaxed);
  display: flex;
  gap: var(--space-2);
  align-items: flex-start;
}

.api-warning {
  background: color-mix(in srgb, var(--color-danger) 8%, transparent);
  color: var(--color-danger);
  border: 1px solid color-mix(in srgb, var(--color-danger) 20%, transparent);
}

.api-info {
  background: color-mix(in srgb, var(--color-info) 8%, transparent);
  color: var(--color-info);
  border: 1px solid color-mix(in srgb, var(--color-info) 20%, transparent);
}

@supports not (color: color-mix(in srgb, black, white)) {
  .api-warning { background: var(--color-danger-bg); border-color: var(--color-danger-border); }
  .api-info { background: var(--color-info-bg); border-color: var(--color-info-border); }
}

.api-warning strong,
.api-info strong {
  font-weight: var(--weight-semibold);
}

/* ============================================
   SEE ALSO & METADATA
   ============================================ */

.api-see-also {
  margin: var(--space-3) 0;
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
  border-top: 1px solid var(--color-border-light);
  padding-top: var(--space-3);
}

.api-see-also strong {
  color: var(--color-text-muted);
  font-size: var(--text-xs);
  text-transform: uppercase;
  margin-right: var(--space-2);
}

.api-metadata {
  margin: var(--space-2) 0;
  font-size: var(--text-sm);
  color: var(--color-text-secondary);
}

.api-metadata strong {
  color: var(--color-text-muted);
  font-weight: var(--weight-medium);
  text-transform: uppercase;
  font-size: var(--text-xs);
  letter-spacing: 0.05em;
  margin-right: var(--space-2);
}

/* ============================================
   EXAMPLES SECTION
   ============================================ */

.api-examples {
  margin: var(--space-4) 0;
}

.api-example {
  margin: var(--space-2) 0;
}

/* Let code-block-wrapper handle styling, just remove extra margin */
.api-examples .code-block-wrapper {
  margin: var(--space-2) 0;
}

/* ============================================
   API PARAMETERS SECTION
   ============================================ */

.api-parameters {
  margin: var(--space-4) 0;
}

/* ============================================
   EMPTY STATE
   ============================================ */

.api-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--space-12);
  text-align: center;
  background: var(--color-bg-secondary);
  border: 1px dashed var(--color-border);
  border-radius: var(--api-window-radius);
}

.api-empty-state__icon {
  font-size: var(--text-5xl);
  margin-bottom: var(--space-4);
  opacity: 0.4;
}

.api-empty-state__text {
  margin: 0;
  font-size: var(--text-lg);
  color: var(--color-text-muted);
}

.api-empty-state__hint {
  margin: var(--space-2) 0 0;
  font-size: var(--text-sm);
  color: var(--color-text-muted);
}
