/**
 * Versioning Components
 *
 * Styles for versioned documentation features:
 * - Version selector dropdown
 * - Version banners for older versions
 * - Version badges and indicators
 *
 * These styles are loaded when versioning is enabled.
 * Colors use CSS custom properties for theme integration.
 */

/* =============================================================================
   Version Selector
   ============================================================================= */

.version-selector {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-2, 0.5rem);
  font-size: var(--text-sm, 0.875rem);
}

.version-selector__label {
  display: flex;
  align-items: center;
  color: var(--text-muted);
}

.version-selector__icon {
  width: 1rem;
  height: 1rem;
}

.version-selector__select {
  appearance: none;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md, 0.375rem);
  padding: var(--spacing-1-5, 0.375rem) var(--spacing-8, 2rem) var(--spacing-1-5, 0.375rem) var(--spacing-3, 0.75rem);
  font-size: inherit;
  font-family: inherit;
  color: var(--text-color);
  cursor: pointer;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%236b7280' d='M3 5l3 3 3-3'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.5rem center;
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.version-selector__select:hover {
  border-color: var(--primary-color);
}

.version-selector__select:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px var(--primary-color-alpha-20);
}

.version-selector__badge {
  display: inline-flex;
  align-items: center;
  padding: var(--spacing-0-5, 0.125rem) var(--spacing-2, 0.5rem);
  font-size: var(--text-xs, 0.75rem);
  font-weight: 500;
  border-radius: var(--radius-full, 9999px);
  background-color: var(--success-subtle);
  color: var(--success-emphasis);
}

.version-selector__badge--old {
  background-color: var(--warning-subtle);
  color: var(--warning-emphasis);
}

.version-selector__badge--deprecated {
  background-color: var(--danger-subtle);
  color: var(--danger-emphasis);
}

/* =============================================================================
   Version Banner
   ============================================================================= */

.version-banner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-3, 0.75rem) var(--spacing-4, 1rem);
  margin-bottom: var(--spacing-4, 1rem);
  border-radius: var(--radius-lg, 0.5rem);
  font-size: var(--text-sm, 0.875rem);
  line-height: 1.5;
}

.version-banner--info {
  background-color: var(--info-subtle);
  color: var(--info-emphasis);
  border: 1px solid var(--info-border);
}

.version-banner--warning {
  background-color: var(--warning-subtle);
  color: var(--warning-emphasis);
  border: 1px solid var(--warning-border);
}

.version-banner--danger {
  background-color: var(--danger-subtle);
  color: var(--danger-emphasis);
  border: 1px solid var(--danger-border);
}

.version-banner__content {
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-3, 0.75rem);
}

.version-banner__icon {
  flex-shrink: 0;
  width: 1.25rem;
  height: 1.25rem;
  margin-top: 0.125rem;
}

.version-banner__message {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-1, 0.25rem);
}

.version-banner__link {
  color: inherit;
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.version-banner__link:hover {
  text-decoration-thickness: 2px;
}

.version-banner__dismiss {
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 1.5rem;
  height: 1.5rem;
  padding: 0;
  background: transparent;
  border: none;
  border-radius: var(--radius-sm, 0.25rem);
  color: inherit;
  opacity: 0.7;
  cursor: pointer;
  transition: opacity var(--transition-fast);
}

.version-banner__dismiss:hover {
  opacity: 1;
}

/* =============================================================================
   Version-aware Directives
   ============================================================================= */

/* Version badges - shared styles */
.version-badge {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-1, 0.25rem);
  padding: var(--spacing-0-5, 0.125rem) var(--spacing-2, 0.5rem);
  font-size: var(--text-xs, 0.75rem);
  font-weight: 500;
  border-radius: var(--radius-md, 0.375rem);
}

/* Since badge - "New in X.X" */
.version-badge-since {
  background-color: var(--success-subtle);
  color: var(--success-emphasis);
}

.version-badge-since::before {
  content: "‚ú® ";
}

/* Deprecated badge - "Deprecated since X.X" */
.version-badge-deprecated {
  background-color: var(--warning-subtle);
  color: var(--warning-emphasis);
}

.version-badge-deprecated::before {
  content: "‚ö†Ô∏è ";
}

/* Changed badge - "Changed in X.X" */
.version-badge-changed {
  background-color: var(--info-subtle);
  color: var(--info-emphasis);
}

.version-badge-changed::before {
  content: "üìù ";
}

/* Version since container (with content) */
.version-since {
  padding: var(--spacing-3, 0.75rem) var(--spacing-4, 1rem);
  margin: var(--spacing-4, 1rem) 0;
  border-left: 3px solid var(--success-border, var(--success-emphasis));
  background-color: var(--success-subtle);
  border-radius: 0 var(--radius-md, 0.375rem) var(--radius-md, 0.375rem) 0;
}

.version-since .version-badge {
  margin-bottom: var(--spacing-2, 0.5rem);
}

/* Version deprecated container (with content) */
.version-deprecated {
  /* Uses admonition warning styling */
}

.version-deprecated .version-content {
  margin-top: var(--spacing-2, 0.5rem);
}

/* Version changed container (with content) */
.version-changed {
  /* Uses admonition note styling */
}

.version-changed .version-content {
  margin-top: var(--spacing-2, 0.5rem);
}

/* Content wrapper */
.version-content {
  color: var(--text-color);
}

.version-content p:last-child {
  margin-bottom: 0;
}

/* =============================================================================
   Responsive Adjustments
   ============================================================================= */

@media (max-width: 640px) {
  .version-banner {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-2, 0.5rem);
    position: relative;
    padding-right: var(--spacing-10, 2.5rem);
  }

  .version-banner__dismiss {
    position: absolute;
    top: var(--spacing-2, 0.5rem);
    right: var(--spacing-2, 0.5rem);
  }

  .version-selector {
    flex-wrap: wrap;
  }
}
