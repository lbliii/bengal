{#
Parameters Table Partial

Renders a table of function/method parameters using semantic CSS tokens.
Uses the normalized `get_params` filter which handles all extractor types:
- Python functions/methods
- CLI commands
- OpenAPI endpoints

Each param in the normalized list has: name, type, default, required, description
#}

{% set params = element | get_params %}

{% if params %}
<div class="api-parameters">
  <h{% if element.element_type == 'method' %}5{% else %}4{% endif %} class="api-label">Parameters <span class="api-label__count">{{ params | length }}</span></h{% if element.element_type == 'method' %}5{% else %}4{% endif %}>
  <table class="api-table {% if element.element_type == 'method' %}api-table--mini{% else %}api-table--compact{% endif %}">
    {% if element.element_type == 'function' %}
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Default</th>
        <th>Description</th>
      </tr>
    </thead>
    {% endif %}
    <tbody>
      {% for param in params %}
      <tr>
        <td data-label="Name" class="api-table__name"><code>{{ param.name }}</code></td>
        <td data-label="Type" class="api-table__type">
          {%- if param.type -%}
          <code>{{ param.type }}</code>
          {%- else -%}
          <span class="table-empty">—</span>
          {%- endif -%}
        </td>
        {% if element.element_type == 'function' %}
        <td data-label="Default" class="api-table__default">
          {%- if param.default -%}
          <code>{{ param.default }}</code>
          {%- else -%}
          <span class="table-empty">—</span>
          {%- endif -%}
        </td>
        {% endif %}
        <td data-label="Description" class="api-table__desc">{{ param.description | markdownify | safe }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}
