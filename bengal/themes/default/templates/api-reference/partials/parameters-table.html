{#
Parameters Table Partial

Renders a table of function/method parameters using semantic CSS tokens.
Handles both ParameterInfo objects and simple string parameter names.
Uses api-table classes with responsive mobile labels.
#}

{% if element.metadata.parameters %}
<div class="api-parameters">
  <h{% if element.element_type == 'method' %}5{% else %}4{% endif %} class="api-label">Parameters</h{% if element.element_type == 'method' %}5{% else %}4{% endif %}>
  <table class="api-table {% if element.element_type == 'method' %}api-table--mini{% else %}api-table--compact{% endif %}">
    {% if element.element_type == 'function' %}
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Default</th>
        <th>Description</th>
      </tr>
    </thead>
    {% endif %}
    <tbody>
      {% for param in element.metadata.parameters %}
      <tr>
        {# Handle both object params (with .name) and string params #}
        {% if param is mapping or param is not string %}
        <td data-label="Name" class="api-table__name"><code>{{ param.name }}</code></td>
        <td data-label="Type" class="api-table__type">
          {%- if param.type_hint -%}
          <code>{{ param.type_hint }}</code>
          {%- elif param.type -%}
          <code>{{ param.type }}</code>
          {%- else -%}
          <span class="table-empty">—</span>
          {%- endif -%}
        </td>
        {% if element.element_type == 'function' %}
        <td data-label="Default" class="api-table__default">
          {%- if param.default -%}
          <code>{{ param.default }}</code>
          {%- else -%}
          <span class="table-empty">—</span>
          {%- endif -%}
        </td>
        {% endif %}
        <td data-label="Description" class="api-table__desc">{{ param.description | default('') | markdownify | safe }}</td>
        {% else %}
        {# param is a simple string - just show the name #}
        <td data-label="Name" class="api-table__name"><code>{{ param }}</code></td>
        <td data-label="Type" class="api-table__type"><span class="table-empty">—</span></td>
        {% if element.element_type == 'function' %}
        <td data-label="Default" class="api-table__default"><span class="table-empty">—</span></td>
        {% endif %}
        <td data-label="Description" class="api-table__desc"></td>
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endif %}
