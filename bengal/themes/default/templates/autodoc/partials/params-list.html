{#
Autodoc Parameters List Partial

Renders parameters as a definition list (alternative to table).

Required: params (list of dicts or DocElements)
Optional: title (str)
#}

{% set title = title | default('Parameters') %}

{% if params %}
<section class="autodoc-section" data-section="parameters">
  <h2 class="autodoc-section-title">{{ title }}</h2>

  <dl class="autodoc-params">
    {% for param in params %}
    {# ChainableUndefined handles both dict and object access #}
    {% set is_required = param.metadata.required | default(param.required) %}
    {% set param_name = param.name %}
    {% set param_type_val = param.metadata.type | default(param.type) %}
    {% set param_default = param.metadata.default | default(param.default) %}
    {% set param_desc = param.description or param.docstring %}
    <div class="autodoc-param" data-required="{{ 'true' if is_required else 'false' }}">
      <dt class="autodoc-param-name">
        <code>{{ param_name }}</code>
        {% if param_type_val %}
        <span class="autodoc-param-type">{{ param_type_val }}</span>
        {% endif %}
      </dt>
      <dd class="autodoc-param-desc">
        {{ param_desc }}
        {% if param_default %}
        <span class="autodoc-param-default">Default: <code>{{ param_default }}</code></span>
        {% endif %}
      </dd>
    </div>
    {% endfor %}
  </dl>
</section>
{% endif %}
