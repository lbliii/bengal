{#
  Popular Tags Component

  Displays a tag cloud widget showing the most frequently used tags across the site.

  Variables:
    - limit: Number of tags to show (default: 10, passed to popular_tags())

  Template Functions Used:
    - popular_tags(limit=10): Returns list of (tag, count) tuples sorted by frequency
    - tag_url(tag): Generates locale-aware URL for tag archive page

  Features:
    - Automatically finds most popular tags
    - Shows post count per tag
    - Links to tag archive pages
    - Gracefully handles sites with no tags

  Usage:
    {% include 'partials/popular-tags.html' %}
    {% include 'partials/popular-tags.html' with {'limit': 20} %}
#}

{% set top_tags = popular_tags(limit=10) %}
{% if top_tags %}
<div class="popular-tags-widget">
  <h3>Popular Topics</h3>
  <div class="tag-cloud">
    {% for tag, count in top_tags %}
    <!-- DEBUG: tag={{ tag }}, count={{ count }}, count_type={{ count|string }} -->
    <a href="{{ tag_url(tag) }}" class="tag-bubble" data-count="{{ count }}">
      {{ tag }}
      <span class="tag-count">{{ count }}</span>
    </a>
    {% endfor %}
  </div>
</div>
{% endif %}
