{#
  Breadcrumbs Component

  Displays hierarchical navigation showing the current page's location in the site structure.

  Variables:
    - page: Current page object (required)
    - site: Site object (for home link)

  Template Functions Used:
    - get_breadcrumbs(page): Returns list of breadcrumb items with title, url, is_current

  Features:
    - Builds ancestor chain automatically
    - Detects section index pages (no duplication)
    - Highlights current page
    - Accessible with aria-current

  Usage:
    {% include 'partials/breadcrumbs.html' %}
#}

{% set breadcrumb_items = get_breadcrumbs(page) %}
{% if breadcrumb_items %}
<nav class="breadcrumbs" aria-label="Breadcrumb">
  <ol>
    {% for item in breadcrumb_items %}
      <li{% if item.is_current %} aria-current="page"{% endif %}>
        {% if item.is_current %}
          {{ item.title }}
        {% else %}
          <a href="{{ item.url }}">{{ item.title }}</a>
        {% endif %}
      </li>
    {% endfor %}
  </ol>
</nav>
{% endif %}
