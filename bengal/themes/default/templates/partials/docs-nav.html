{#
Documentation Navigation Component

Displays full hierarchical sidebar navigation for documentation sites.
Uses pre-computed NavTree for optimal performance.

Variables:
- page: Current page object (required)
- show_nav_icons: Whether to show section icons (default: true)

Features:
- Hierarchical tree structure via NavTree API
- Active page highlighting (automatic via NavNodeProxy)
- Active trail marking (automatic via NavTreeContext)
- Version-aware filtering (automatic via NavTreeCache)
- Keyboard accessible
- Section icons from frontmatter

Usage:
{% include 'partials/docs-nav.html' %}
#}

{# Control icon visibility - defaults to true #}
{% set show_nav_icons = show_nav_icons if show_nav_icons is defined else true %}

<nav class="docs-nav" aria-label="Documentation pages" data-bengal="docs-nav">
  {# Version Selector #}
  {% include 'partials/version-selector.html' %}

  {# Navigation Tree - uses cached NavTree infrastructure #}
  <div class="docs-nav-tree">
    {% set nav_items = get_nav_tree(page) %}

    {% for item in nav_items %}
      {% set depth = 0 %}
      {% include 'partials/docs-nav-node.html' %}
    {% endfor %}
  </div>
</nav>
