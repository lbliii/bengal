# Content Types in Bengal

Bengal's type system lets you define **what your content is** (semantic) rather than **how to render it** (implementation). This makes your content more portable, maintainable, and self-documenting.

## Quick Start

Set a content type in your section's `_index.md`:

```yaml
---
title: Documentation
type: doc           # ‚Üê Content is documentation
cascade:
  type: doc         # ‚Üê All children inherit this type
---
```

Now all pages in this section automatically use the `doc` template family (three-column layout with sidebar navigation).

## Available Content Types

### `doc` - Reference Documentation

**Best for**: API documentation, reference guides, technical specifications

**Templates**: `doc/list.html`, `doc/single.html`

**Features**:
- Three-column layout
- Left sidebar with navigation tree
- Right sidebar with table of contents
- Breadcrumbs and prev/next navigation

**Example**:
```yaml
# content/docs/_index.md
---
title: Documentation
type: doc
cascade:
  type: doc
---
```

### `tutorial` - Step-by-Step Guides

**Best for**: Learning materials, how-to guides, walkthroughs

**Templates**: `tutorial/list.html`, `tutorial/single.html`

**Features**:
- Grid layout with difficulty badges
- Time estimates
- Prerequisites section
- Learning objectives
- Prominent prev/next buttons
- Progress indicators

**Example**:
```yaml
# content/tutorials/_index.md
---
title: Tutorials
type: tutorial
cascade:
  type: tutorial
---
```

**Tutorial page metadata**:
```yaml
---
title: Getting Started
type: tutorial
difficulty: beginner          # beginner, intermediate, advanced
time: 15 minutes
icon: üöÄ
prerequisites:
  - Basic Python knowledge
  - Bengal installed
learning_objectives:
  - Create your first site
  - Understand content structure
---
```

### `blog` - Blog Posts

**Best for**: Blog posts, news articles, announcements

**Templates**: `blog/list.html`, `blog/single.html`

**Features**:
- Reverse chronological order
- Featured posts section
- Author information
- Social sharing buttons
- Reading time estimates
- Related posts
- Comments integration hooks

**Example**:
```yaml
# content/blog/_index.md
---
title: Blog
type: blog
cascade:
  type: blog
---
```

**Blog post metadata**:
```yaml
---
title: Announcing Bengal 1.0
type: blog
date: 2024-10-09
author: Jane Doe
author_avatar: /images/authors/jane.jpg
author_bio: Tech writer and developer
image: /images/blog/bengal-1.0.jpg
featured: true
tags: [release, announcement]
---
```

### `api-reference` - API Documentation

**Best for**: Auto-generated API documentation from code

**Templates**: `api-reference/list.html`, `api-reference/single.html`

**Features**:
- Three-column layout with module navigation
- Source file links
- Class/function hierarchy
- Syntax-highlighted code examples

**Example**:
```yaml
# Generated by autodoc
---
title: core.site
type: python-module      # Maps to api-reference templates
source_file: bengal/core/site.py
---
```

### `cli-reference` - CLI Documentation

**Best for**: Command-line interface documentation

**Templates**: `cli-reference/list.html`, `cli-reference/single.html`

**Features**:
- Command grid layout
- Usage examples
- Options tables
- Three-column layout for command details

**Example**:
```yaml
# Generated by autodoc-cli
---
title: bengal build
type: cli-command        # Maps to cli-reference templates
usage: bengal build [OPTIONS]
---
```

## Using Content Types

### Method 1: Set Once Per Section

The most common pattern - set type in `_index.md`:

```yaml
# content/tutorials/_index.md
---
title: Tutorials
type: tutorial
cascade:
  type: tutorial         # ‚Üê All children inherit
---
```

Now every page in `content/tutorials/` automatically uses tutorial templates.

### Method 2: Set Per Page

For individual pages:

```yaml
# content/some-page.md
---
title: My Tutorial
type: tutorial
---
```

### Method 3: Combine Both

Custom index, standard pages:

```yaml
# content/docs/_index.md
---
title: Documentation
template: docs-hero.html     # ‚Üê Custom landing page
cascade:
  type: doc                  # ‚Üê Children get standard templates
---
```

## Template vs Type

**When to use `type`**:
- ‚úÖ Content is conceptually a standard type
- ‚úÖ You want consistent templates across many pages
- ‚úÖ You want portability between themes
- ‚úÖ You're okay with the theme's default interpretation

**When to use `template`**:
- ‚úÖ You need a unique layout for one specific page
- ‚úÖ Landing pages, dashboards, special sections
- ‚úÖ You've created a custom template
- ‚úÖ The standard type templates don't fit

**Priority**: `template` always overrides `type`

```yaml
---
title: Special Page
template: custom.html        # ‚Üê Highest priority
type: doc                    # ‚Üê Ignored (template takes precedence)
---
```

## Common Patterns

### Pattern 1: Uniform Section

Apply one type to entire section:

```yaml
# content/docs/_index.md
---
type: doc
cascade:
  type: doc
---
```

### Pattern 2: Custom Landing + Standard Pages

```yaml
# content/tutorials/_index.md
---
title: Tutorials
template: tutorial-hero.html    # ‚Üê Custom index
cascade:
  type: tutorial                # ‚Üê Children get standard templates
---
```

### Pattern 3: Mixed Content Types

```yaml
# content/_index.md
cascade:
  show_toc: true      # ‚Üê Applied to all

# content/docs/_index.md
cascade:
  type: doc           # ‚Üê Override for this section

# content/tutorials/_index.md
cascade:
  type: tutorial      # ‚Üê Different type here
```

### Pattern 4: Override Individual Pages

```yaml
# content/docs/_index.md
cascade:
  type: doc           # ‚Üê Default

# content/docs/special-tutorial.md
type: tutorial        # ‚Üê Override just this page
```

## Cascading Behavior

Types cascade from parent to children:

```
content/
  guides/
    _index.md (type: tutorial)
    intro.md               ‚Üê Inherits type: tutorial
    advanced/
      _index.md            ‚Üê Inherits type: tutorial
      topic-1.md           ‚Üê Inherits type: tutorial
```

Children can override:

```yaml
# content/guides/advanced/_index.md
type: doc               # ‚Üê Override parent's type
cascade:
  type: doc             # ‚Üê Now this branch is 'doc'
---
```

## Customization

### For Content Writers

Just set the type - templates are automatic:

```yaml
---
type: tutorial
---
```

### For Theme Developers

Create template families in your theme:

```
themes/my-theme/templates/
  doc/
    list.html      # Section index
    single.html    # Individual pages
  
  tutorial/
    list.html
    single.html
```

### Extending Types

You can add custom types by creating matching templates:

```yaml
---
type: recipe           # Custom type
---
```

```
templates/
  recipe/
    list.html          # Create these templates
    single.html
```

Then the type system automatically uses them!

## Troubleshooting

### Type Not Working

**Check:**
1. Is the type spelled correctly?
2. Do the templates exist? (`doc/single.html`)
3. Try explicit template to isolate issue

**Debug:**
```bash
bengal build --verbose    # Shows template selection
```

### Templates Not Found

**Solution**: Create the template directory:

```bash
mkdir -p themes/default/templates/tutorial
```

Or use explicit `template:` field:

```yaml
---
template: page.html      # Use default template
---
```

### Cascade Not Applying

**Check:**
- Is `cascade:` in parent `_index.md`?
- Are pages actually children (same directory)?
- Do children have explicit `type:` that overrides?

## Migration Guide

### From Section-Based Templates

**Before**:
```
content/docs/page.md     ‚Üí uses docs/single.html
```

**After**:
```yaml
# content/docs/_index.md
cascade:
  type: doc
```
```
content/docs/page.md     ‚Üí uses doc/single.html
```

### From Template Frontmatter

**Before**:
```yaml
# Every page
---
template: doc.html
---
```

**After**:
```yaml
# _index.md only
---
cascade:
  type: doc
---

# Individual pages - clean!
---
title: My Page
# type is inherited
---
```

## Best Practices

1. **Use Semantic Types** - Describe what content IS, not how to render it
2. **Cascade at Section Root** - Set type once in `_index.md`
3. **Override Sparingly** - Most pages should inherit
4. **Document Your Types** - Create a style guide for your team
5. **Keep Fallbacks** - Always have default templates

## Examples

See `examples/showcase/` for working examples of all types.

## Next Steps

- Read [Template Development Guide](THEME_DEVELOPMENT.md) to create custom types
- See [Template Selection](TEMPLATES.md#template-selection) for technical details
- Check [Migration Guide](MIGRATION_TYPE_SYSTEM.md) for upgrading existing sites

