# Autodoc Configuration
# ======================
# Generates API documentation from Bengal's Python source and CLI

autodoc:
  # GitHub repository for source links (owner/repo format)
  # Used by "View source" links in generated documentation
  github_repo: "lbliii/bengal"
  github_branch: "main"  # Git branch for source links

  # Default description for generated documentation pages
  # If not set, modules will use "{module_name} package" as default
  # default_description: "API Documentation"

  # Python API Documentation
  python:
    enabled: true
    # virtual_pages: true  # Default: true (virtual pages are now the only option)
    source_dirs:
      - ../bengal  # Document the main Bengal package
    # output_dir: removed - virtual pages always output to site.output_dir (public/)
    docstring_style: auto  # Auto-detect docstring format

    # Output prefix for Python API docs (default: "api/python")
    # Controls the URL path where Python docs are generated
    # Examples:
    #   output_prefix: "api/python"  # -> /api/python/...
    #   output_prefix: "api"         # -> /api/...  (legacy, may conflict with OpenAPI)
    #   output_prefix: "reference"   # -> /reference/...
    # output_prefix: "api/python"

    # Exclude test, cache, and virtual environment files
    exclude:
      - "*/tests/*"
      - "*/test_*.py"
      - "*/__pycache__/*"
      - "*/migrations/*"
      - "*/.pytest_cache/*"
      - "*/.venv/*"
      - "*/venv/*"
      - "*/.env/*"

    # Member visibility
    include_private: false  # Skip _private methods
    include_special: false  # Skip __special__ methods

  # CLI Documentation
  cli:
    enabled: true
    # virtual_pages: true  # Default: true (virtual pages are now the only option)
    app_module: "bengal.cli:main"
    framework: click
    # output_dir: removed - virtual pages always output to site.output_dir (public/)

    # Output prefix for CLI docs (default: "cli")
    # Controls the URL path where CLI docs are generated
    # Examples:
    #   output_prefix: "cli"         # -> /cli/...
    #   output_prefix: "commands"    # -> /commands/...
    # output_prefix: "cli"

  # OpenAPI Documentation
  openapi:
    enabled: true
    spec_file: "api/openapi.yaml"  # Relative to site root

    # Output prefix for OpenAPI docs (default: auto-derived from spec title)
    # Controls the URL path where OpenAPI docs are generated
    # When empty or not set, derives from spec info.title:
    #   "Commerce API" -> "api/commerce"
    #   "Payment Service" -> "api/payment"
    # Examples:
    #   output_prefix: ""            # -> auto-derive from spec title
    #   output_prefix: "api/rest"    # -> /api/rest/...
    #   output_prefix: "api"         # -> /api/... (legacy, may conflict with Python)
    # output_prefix: ""  # Auto-derive from OpenAPI spec title
