---
description: Draft evidence-backed RFC for design decisions with architecture impact analysis and tradeoffs
globs: ["plan/**/*.md", "architecture/**/*.md"]
alwaysApply: false
---

# Bengal RFC Process

**Purpose**: Create structured, evidence-backed design proposals.

**Shortcut**: `::rfc`

---

## RFC Lifecycle

```
drafted/ â†’ evaluated/ â†’ ready/ â†’ DELETED
```

1. **Draft** (`plan/drafted/rfc-*.md`): Write initial proposal
2. **Evaluate** (`plan/evaluated/`): Review, score confidence, resolve questions
3. **Ready** (`plan/ready/`): Approved, create implementation plan
4. **Done**: Delete file, add changelog entry

---

## RFC Template

```markdown
# RFC: [Title]

**Status**: Draft | Evaluated | Ready
**Created**: YYYY-MM-DD
**Author**: [name]
**Confidence**: [0-100]%

---

## Problem Statement

[What problem are we solving? Include evidence from code.]

**Current State**: [What exists today]
**Pain Points**: [Issues, limitations]
**Impact**: [Who is affected]

---

## Goals & Non-Goals

**Goals**:
- [Specific, measurable goal]

**Non-Goals**:
- [Explicit scope boundaries]

---

## Design Options

### Option A: [Name]

**Description**: [How it works]

**Pros**:
- [Advantage]

**Cons**:
- [Limitation]

### Option B: [Name]

[Same structure]

**Recommended**: Option [X] because [reasoning]

---

## Detailed Design

### API Changes
[Function signatures, class changes]

### Architecture Impact
[Which Bengal subsystems affected: Core, Orchestration, Rendering, Cache, Health, CLI]

### Error Handling
[New exceptions, error messages]

### Testing Strategy
[How to test this change]

---

## Risks & Mitigations

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| [Risk] | Low/Med/High | Low/Med/High | [How to address] |

---

## Implementation Plan

[High-level phases, or reference separate plan-*.md file]

---

## Open Questions

- [ ] [Question needing input]
```

---

## Confidence Scoring

RFCs require **â‰¥85% confidence** to proceed:

```yaml
confidence = Evidence(40) + Consistency(30) + Recency(15) + Tests(15)
```

| Score | Level | Action |
|-------|-------|--------|
| 90-100% | ðŸŸ¢ High | Proceed to ready/ |
| 70-89% | ðŸŸ¡ Moderate | Review, resolve gaps |
| 50-69% | ðŸŸ  Low | Needs more research |
| <50% | ðŸ”´ Uncertain | Reject or restart |

---

## Quality Checklist

Before moving from `drafted/` to `evaluated/`:
- [ ] Problem statement clear with evidence
- [ ] At least 2 design options analyzed
- [ ] Recommended option justified
- [ ] Architecture impact documented
- [ ] Risks identified with mitigations
- [ ] Confidence â‰¥ 85%

Before moving from `evaluated/` to `ready/`:
- [ ] Open questions resolved
- [ ] Implementation plan created
- [ ] Tests strategy defined
