
---
title: "orchestration.taxonomy"
type: python-module
source_file: "bengal/orchestration/taxonomy.py"
css_class: api-content
description: "Taxonomy orchestration for Bengal SSG.  Handles taxonomy collection (tags, categories) and dynamic page generation (tag pages, archive pages, etc.)."
---

# orchestration.taxonomy

Taxonomy orchestration for Bengal SSG.

Handles taxonomy collection (tags, categories) and dynamic page generation
(tag pages, archive pages, etc.).

---

## Classes

### `TaxonomyOrchestrator`


Handles taxonomies and dynamic page generation.

Responsibilities:
    - Collect tags, categories, and other taxonomies
    - Generate tag index pages
    - Generate individual tag pages (with pagination)

Note: Section archive pages are now handled by SectionOrchestrator




:::{rubric} Methods
:class: rubric-methods
:::
#### `__init__`
```python
def __init__(self, site: 'Site')
```

Initialize taxonomy orchestrator.



:::{rubric} Parameters
:class: rubric-parameters
:::
- **`self`**
- **`site`** (`'Site'`) - Site instance containing pages and sections





---
#### `collect_and_generate`
```python
def collect_and_generate(self) -> None
```

Collect taxonomies and generate dynamic pages.
Main entry point called during build.



:::{rubric} Parameters
:class: rubric-parameters
:::
- **`self`**

:::{rubric} Returns
:class: rubric-returns
:::
`None`




---
#### `collect_and_generate_incremental`
```python
def collect_and_generate_incremental(self, changed_pages: list['Page'], cache: 'BuildCache') -> set[str]
```

Incrementally update taxonomies for changed pages only.

Architecture:
1. Always rebuild site.taxonomies from current Page objects (correct)
2. Use cache to determine which tag PAGES need regeneration (fast)
3. Never reuse taxonomy structure with object references (prevents bugs)

Performance:
- Change detection: O(changed pages)
- Taxonomy reconstruction: O(all tags * pages_per_tag) â‰ˆ O(all pages) but fast
- Tag page generation: O(affected tags)



:::{rubric} Parameters
:class: rubric-parameters
:::
- **`self`**
- **`changed_pages`** (`list['Page']`) - List of pages that changed (NOT generated pages)
- **`cache`** (`'BuildCache'`) - Build cache with tag index

:::{rubric} Returns
:class: rubric-returns
:::
`set[str]` - Set of affected tag slugs (for regenerating tag pages)




---
#### `collect_taxonomies`
```python
def collect_taxonomies(self) -> None
```

Collect taxonomies (tags, categories, etc.) from all pages.
Organizes pages by their taxonomic terms.



:::{rubric} Parameters
:class: rubric-parameters
:::
- **`self`**

:::{rubric} Returns
:class: rubric-returns
:::
`None`




---
#### `generate_dynamic_pages_for_tags`
```python
def generate_dynamic_pages_for_tags(self, affected_tags: set) -> None
```

Generate dynamic pages only for specific affected tags (incremental optimization).



:::{rubric} Parameters
:class: rubric-parameters
:::
- **`self`**
- **`affected_tags`** (`set`) - Set of tag slugs that need page regeneration

:::{rubric} Returns
:class: rubric-returns
:::
`None`




---
#### `generate_dynamic_pages`
```python
def generate_dynamic_pages(self) -> None
```

Generate dynamic taxonomy pages (tag pages, etc.) that don't have source files.

Note: Section archive pages are now generated by SectionOrchestrator



:::{rubric} Parameters
:class: rubric-parameters
:::
- **`self`**

:::{rubric} Returns
:class: rubric-returns
:::
`None`




---
