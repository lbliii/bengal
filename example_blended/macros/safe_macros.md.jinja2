{#- BLENDED: Hugo-style safety + reusable components -#}

{#- Hugo-style error boundary macro -#}
{% macro safe_section(section_name) %}
{% if caller %}
<!-- BEGIN {{ section_name }} section -->
{% try %}
{{ caller() }}
{% except %}
<!-- ERROR in {{ section_name }} section: template rendering failed -->
```{warning}
Documentation for {{ section_name }} could not be rendered.
```
{% endtry %}
<!-- END {{ section_name }} section -->
{% endif %}
{% endmacro %}

{#- Hugo-style safe rendering with fallback -#}
{% macro safe_render(item_type, item) %}
{% if caller and item %}
{% try %}
{% with current_item = item %}
{{ caller() }}
{% endwith %}
{% except %}
<!-- {{ item_type }} {{ item.name }} failed to render -->
**`{{ item.name }}`** *(documentation unavailable)*
{% endtry %}
{% endif %}
{% endmacro %}

{#- Reusable parameter table with Hugo-style safety -#}
{% macro render_parameter_table(parameters, title="Parameters") %}
{% if parameters %}
**{{ title }}:**

| Name | Type | Default | Description |
|------|------|---------|-------------|
{% for param in parameters %}
{% try %}
| `{{ param.name }}` | {{ param.annotation | safe_code }} | {{ param.default | safe_code }} | {{ param.docstring | safe_text }} |
{% except %}
| `{{ param.name }}` | - | - | *(parameter info unavailable)* |
{% endtry %}
{% endfor %}

{% endif %}
{% endmacro %}

{#- Hugo-style inheritance chain -#}
{% macro render_inheritance_chain(bases) %}
{% if bases %}
**Inherits from:** {% for base in bases %}`{{ base }}`{% if not loop.last %} â†’ {% endif %}{% endfor %}
{% endif %}
{% endmacro %}
