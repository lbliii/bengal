
---
title: "template_engine"
type: "python-module"
source_file: "bengal/bengal/rendering/template_engine.py"
line_number: 1
description: "Template engine using Jinja2. Supports optional template profiling via --profile-templates flag. When enabled, collects timing data for template renders and template function calls to identify perform..."
---

# template_engine
**Type:** Module
**Source:** [View source](bengal/bengal/rendering/template_engine.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[rendering](/api/bengal/rendering/) ›template_engine

Template engine using Jinja2.

Supports optional template profiling via --profile-templates flag.
When enabled, collects timing data for template renders and template
function calls to identify performance bottlenecks.

See Also:
    - bengal/rendering/template_profiler.py
    - plan/active/rfc-template-performance-optimization.md

## Classes




### `TemplateEngine`


Template engine for rendering pages with Jinja2 templates.

Notes:
- Bytecode cache: When enabled via config, compiled templates are cached under
  `output/.bengal-cache/templates` using a stable filename pattern. Jinja2 invalidates
  entries when source templates change.
- Strict mode and auto reload: `strict_mode` enables `StrictUndefined`; `dev_server`
  enables `auto_reload` for faster iteration.
- Include/extends cycles: Cycle detection is delegated to Jinja2. Recursive includes or
  self-extends surface as `TemplateError` or `RecursionError` from Jinja2 during render.









## Methods



#### `__init__`
```python
def __init__(self, site: Any, profile_templates: bool = False) -> None
```


Initialize the template engine.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `site` | `Any` | - | Site instance |
| `profile_templates` | `bool` | `False` | Enable template profiling for performance analysis |







**Returns**


`None`






#### `render`
```python
def render(self, template_name: str, context: dict[str, Any]) -> str
```


Render a template with the given context.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `template_name` | `str` | - | Name of the template file |
| `context` | `dict[str, Any]` | - | Template context variables |







**Returns**


`str` - Rendered HTML



#### `get_template_profile`
```python
def get_template_profile(self) -> dict[str, Any] | None
```


Get template profiling report.



**Returns**


`dict[str, Any] | None` - Dictionary with template and function timing statistics,
    or None if profiling is not enabled.
:::{rubric} Examples
:class: rubric-examples
:::


```python
report = engine.get_template_profile()
    if report:
        for name, stats in report['templates'].items():
            print(f"{name}: {stats['count']} renders, {stats['total_ms']:.2f}ms")
```




#### `render_string`
```python
def render_string(self, template_string: str, context: dict[str, Any]) -> str
```


Render a template string with the given context.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `template_string` | `str` | - | Template content as string |
| `context` | `dict[str, Any]` | - | Template context variables |







**Returns**


`str` - Rendered HTML



---
*Generated by Bengal autodoc from `bengal/bengal/rendering/template_engine.py`*
