
---
title: "asset_extractor"
type: "python-module"
source_file: "../bengal/bengal/rendering/asset_extractor.py"
line_number: 1
description: "Asset extraction utilities for tracking page-to-asset dependencies. Extracts references to assets (images, stylesheets, scripts, fonts) from rendered HTML to populate the AssetDependencyMap cache. Thi..."
---

# asset_extractor
**Type:** Module
**Source:** [View source](../bengal/bengal/rendering/asset_extractor.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[rendering](/api/bengal/rendering/) ›asset_extractor

Asset extraction utilities for tracking page-to-asset dependencies.

Extracts references to assets (images, stylesheets, scripts, fonts) from
rendered HTML to populate the AssetDependencyMap cache. This enables
incremental builds to discover only the assets needed for changed pages.

Asset types tracked:
- Images: <img src>, <picture> <source srcset>
- Stylesheets: <link href> with rel=stylesheet
- Scripts: <script src>
- Fonts: <link href> with rel=preload type=font
- Data URLs, IFrames, and other embedded resources

## Classes




### `AssetExtractorParser`


**Inherits from:**`HTMLParser`HTML parser for extracting asset references from rendered content.









## Methods



#### `__init__`
```python
def __init__(self)
```


Initialize the asset extractor parser.




#### `handle_starttag`
```python
def handle_starttag(self, tag: str, attrs: list[tuple[str, str | None]]) -> None
```


Extract asset references from opening tags.

Handles:
- <img src>, <img srcset>
- <script src>
- <link href>
- <source srcset>
- <iframe src>
- <picture> with sources


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `tag` | `str` | - | *No description provided.* |
| `attrs` | `list[tuple[str, str \| None]]` | - | *No description provided.* |







**Returns**


`None`



#### `handle_endtag`
```python
def handle_endtag(self, tag: str) -> None
```


Handle closing tags.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `tag` | `str` | - | *No description provided.* |







**Returns**


`None`



#### `handle_data`
```python
def handle_data(self, data: str) -> None
```


Extract @import URLs from style tag content.

Handles:
- @import url('...')
- @import url("...")
- @import url(...) - without quotes


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `data` | `str` | - | *No description provided.* |







**Returns**


`None`



#### `feed`
```python
def feed(self, data: str) -> AssetExtractorParser
```


Parse HTML and return self for chaining.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `data` | `str` | - | *No description provided.* |







**Returns**


`AssetExtractorParser` - self to allow parser(html).get_assets() pattern



#### `get_assets`
```python
def get_assets(self) -> set[str]
```


Get all extracted asset URLs.

Filters out empty strings and returns normalized set.



**Returns**


`set[str]` - Set of asset URLs/paths

## Functions



### `extract_assets_from_html`


```python
def extract_assets_from_html(html_content: str) -> set[str]
```



Extract all asset references from rendered HTML.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `html_content` | `str` | - | Rendered HTML content |







**Returns**


`set[str]` - Set of asset URLs/paths referenced in the HTML
:::{rubric} Examples
:class: rubric-examples
:::


```python
>>> html = '<img src="/images/logo.png" /><script src="/js/app.js"></script>'
    >>> assets = extract_assets_from_html(html)
    >>> assert "/images/logo.png" in assets
    >>> assert "/js/app.js" in assets
```



---
*Generated by Bengal autodoc from `../bengal/bengal/rendering/asset_extractor.py`*
