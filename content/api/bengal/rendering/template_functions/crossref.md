
---
title: "crossref"
type: "python-module"
source_file: "bengal/bengal/rendering/template_functions/crossref.py"
line_number: 1
description: "Cross-reference functions for templates. Provides 4 functions for Sphinx-style cross-referencing with O(1) performance."
---

# crossref
**Type:** Module
**Source:** [View source](bengal/bengal/rendering/template_functions/crossref.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[rendering](/api/bengal/rendering/) ›[template_functions](/api/bengal/rendering/template_functions/) ›crossref

Cross-reference functions for templates.

Provides 4 functions for Sphinx-style cross-referencing with O(1) performance.

## Functions



### `register`


```python
def register(env: Environment, site: Site) -> None
```



Register cross-reference functions with Jinja2 environment.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `env` | `Environment` | - | *No description provided.* |
| `site` | `Site` | - | *No description provided.* |







**Returns**


`None`




### `ref`


```python
def ref(path: str, index: dict, baseurl: str = '', text: str | None = None) -> Markup
```



Generate cross-reference link (like Sphinx :doc: or :ref:).

O(1) lookup - zero performance impact!


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `path` | `str` | - | Path to reference ('docs/installation', 'id:my-page', or slug) |
| `index` | `dict` | - | Cross-reference index from site |
| `baseurl` | `str` | `''` | *No description provided.* |
| `text` | `str \| None` | - | Optional custom link text (defaults to page title) |







**Returns**


`Markup` - Safe HTML link or broken reference indicator
:::{rubric} Examples
:class: rubric-examples
:::


```python
In templates:
        {{ ref('docs/getting-started') }}
        {{ ref('docs/getting-started', 'Get Started') }}
        {{ ref('id:install-guide') }}

    In Markdown (with variable substitution enabled):
        Check out {{ ref('docs/api') }} for details.
```





### `doc`


```python
def doc(path: str, index: dict) -> Page | None
```



Get page object by path (like Hugo's .GetPage).

O(1) lookup - zero performance impact!
Useful for accessing page metadata in templates.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `path` | `str` | - | Path to page ('docs/installation', 'id:my-page', or slug) |
| `index` | `dict` | - | Cross-reference index from site |







**Returns**


`Page | None` - Page object or None if not found
:::{rubric} Examples
:class: rubric-examples
:::


```python
{% set install_page = doc('docs/installation') %}
    {% if install_page %}
      <a href="{{ url_for(install_page) }}">{{ install_page.title }}</a>
      <p>{{ install_page.metadata.description }}</p>
    {% endif %}

    {# Access any page property #}
    {% set api = doc('docs/api') %}
    Last updated: {{ api.metadata.date | date_format('%Y-%m-%d') }}
```





### `anchor`


```python
def anchor(heading: str, index: dict, baseurl: str = '', page_path: str | None = None) -> Markup
```



Link to a heading (anchor) in a page.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `heading` | `str` | - | Heading text to link to |
| `index` | `dict` | - | Cross-reference index from site |
| `baseurl` | `str` | `''` | *No description provided.* |
| `page_path` | `str \| None` | - | Optional page path to restrict search (default: search all) |







**Returns**


`Markup` - Safe HTML link to heading or broken reference indicator
:::{rubric} Examples
:class: rubric-examples
:::


```python
{{ anchor('Installation') }}
    {{ anchor('Configuration', 'docs/getting-started') }}

    {# Find and link to any heading in the site #}
    Jump to {{ anchor('API Reference') }}
```





### `relref`


```python
def relref(path: str, index: dict, baseurl: str = '') -> str
```



Get relative URL for a page (Hugo-style relref).

Returns just the URL without generating a full link.
Useful for custom link generation.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `path` | `str` | - | Path to page |
| `index` | `dict` | - | Cross-reference index from site |
| `baseurl` | `str` | `''` | *No description provided.* |







**Returns**


`str` - URL string or empty string if not found
:::{rubric} Examples
:class: rubric-examples
:::


```python
<a href="{{ relref('docs/api') }}" class="btn">API Docs</a>

    {% set api_url = relref('docs/api') %}
    {% if api_url %}
      <link rel="preload" href="{{ api_url }}" as="document">
    {% endif %}
```



---
*Generated by Bengal autodoc from `bengal/bengal/rendering/template_functions/crossref.py`*

