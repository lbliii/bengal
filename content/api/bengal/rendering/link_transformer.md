
---
title: "link_transformer"
type: "python-module"
source_file: "bengal/bengal/rendering/link_transformer.py"
line_number: 1
description: "Link Transformer - Prepends baseurl to internal links in rendered HTML. This module handles the transformation of internal links (those starting with /) to include the configured baseurl. This is esse..."
---

# link_transformer
**Type:** Module
**Source:** [View source](bengal/bengal/rendering/link_transformer.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[rendering](/api/bengal/rendering/) ›link_transformer

Link Transformer - Prepends baseurl to internal links in rendered HTML.

This module handles the transformation of internal links (those starting with `/`)
to include the configured `baseurl`. This is essential for deployments where the
site is not at the root of the domain (for example, GitHub Pages project sites).

Example (with `baseurl="/bengal"`):

```html
<!-- Internal link gets the baseurl prefix -->
<a href="/docs/guide/">Docs</a>
<!-- becomes -->
<a href="/bengal/docs/guide/">Docs</a>

<!-- External link is unchanged -->
<a href="https://example.com/">X</a>

<!-- Relative link is unchanged -->
<a href="guide/">Guide</a>

<!-- Anchor-only link is unchanged -->
<a href="#section">Section</a>
```

## Functions



### `transform_internal_links`


```python
def transform_internal_links(html: str, baseurl: str) -> str
```



Transform internal links to include baseurl prefix.

This function finds all <a href="/..."> and <img src="/..."> tags
where the path starts with "/" and prepends the baseurl.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `html` | `str` | - | Rendered HTML content |
| `baseurl` | `str` | - | Base URL prefix (e.g., "/bengal" or "https://example.com/bengal") |







**Returns**


`str` - HTML with transformed internal links
:::{rubric} Examples
:class: rubric-examples
:::


```python
>>> transform_internal_links('<a href="/docs/">Docs</a>', '/bengal')
    '<a href="/bengal/docs/">Docs</a>'

    >>> transform_internal_links('<a href="https://ext.com/">X</a>', '/bengal')
    '<a href="https://ext.com/">X</a>'  # External link unchanged

    >>> transform_internal_links('<a href="#top">Top</a>', '/bengal')
    '<a href="#top">Top</a>'  # Anchor unchanged
```





### `should_transform_links`


```python
def should_transform_links(config: dict) -> bool
```



Check if link transformation should be applied.

Link transformation is enabled when:
1. baseurl is configured (non-empty)
2. transform_links is not explicitly disabled


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `config` | `dict` | - | Site configuration dict |







**Returns**


`bool` - True if links should be transformed




### `get_baseurl`


```python
def get_baseurl(config: dict) -> str
```



Get normalized baseurl from config.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `config` | `dict` | - | Site configuration dict |







**Returns**


`str` - Normalized baseurl string or empty string



---
*Generated by Bengal autodoc from `bengal/bengal/rendering/link_transformer.py`*
