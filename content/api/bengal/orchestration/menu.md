
---
title: "menu"
type: "python-module"
source_file: "bengal/bengal/orchestration/menu.py"
line_number: 1
description: "Menu orchestration for Bengal SSG. Handles navigation menu building from config and page frontmatter. Supports incremental menu building with caching, i18n localization, and active state tracking. Men..."
---

# menu
**Type:** Module
**Source:** [View source](bengal/bengal/orchestration/menu.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[orchestration](/api/bengal/orchestration/) ›menu

Menu orchestration for Bengal SSG.

Handles navigation menu building from config and page frontmatter. Supports
incremental menu building with caching, i18n localization, and active state
tracking. Menus are built during content discovery and cached for template access.

Key Concepts:
    - Menu sources: Config definitions, page frontmatter, section structure
    - Incremental caching: Menu cache invalidation on content changes
    - i18n menus: Localized menu variants per language
    - Active state: Current page and active trail tracking

Related Modules:
    - bengal.core.menu: Menu data structures (MenuItem, MenuBuilder)
    - bengal.core.site: Site container that holds menus
    - bengal.rendering.template_functions.navigation: Template access to menus

See Also:
    - bengal/orchestration/menu.py:MenuOrchestrator for menu building logic

## Classes




### `MenuOrchestrator`


Orchestrates navigation menu building with incremental caching.

Handles menu building from config definitions, page frontmatter, and section
structure. Supports incremental menu building by caching menus when config
and menu-related pages are unchanged.

Creation:
    Direct instantiation: MenuOrchestrator(site)
        - Created by BuildOrchestrator during build
        - Requires Site instance with pages and config populated



**Attributes:**

| Name | Type | Description |
|:-----|:-----|:------------|
| `site` | - | Site instance containing menu configuration and pages |
| `_menu_cache_key` | - | Cache key for incremental menu building |
| `Relationships` | - | - Uses: MenuBuilder for menu construction - Uses: MenuItem for menu item representation - Used by: BuildOrchestrator for menu building phase - Updates: site.menu with built menus Thread Safety: Not thread-safe. Should be used from single thread during build. |







## Methods



#### `__init__`
```python
def __init__(self, site: Site)
```


Initialize menu orchestrator.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `site` | `Site` | - | Site instance containing menu configuration |








#### `build`
```python
def build(self, changed_pages: set[Path] | None = None, config_changed: bool = False) -> bool
```


Build all menus from config and page frontmatter.

With incremental building:
- If config unchanged AND no pages with menu frontmatter changed
- Skip rebuild and reuse cached menus


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `changed_pages` | `set[Path] \| None` | - | Set of paths for pages that changed (for incremental builds) |
| `config_changed` | `bool` | `False` | Whether config file changed (forces rebuild) |







**Returns**


`bool` - True if menus were rebuilt, False if cached menus reused

Called during site.build() after content discovery.








#### `mark_active`
```python
def mark_active(self, current_page: Page) -> None
```


Mark active menu items for the current page being rendered.
Called during rendering for each page.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `current_page` | `Page` | - | Page currently being rendered |







**Returns**


`None`



---
*Generated by Bengal autodoc from `bengal/bengal/orchestration/menu.py`*
