
---
title: "sections"
type: "python-module"
source_file: "bengal/bengal/pipeline/sections.py"
line_number: 1
description: "Sections stream for finalizing sections and creating index pages. This module provides stream-based section processing that replaces SectionOrchestrator with a declarative, reactive approach. Flow: pa..."
---

# sections
**Type:** Module
**Source:** [View source](bengal/bengal/pipeline/sections.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[pipeline](/api/bengal/pipeline/) ›sections

Sections stream for finalizing sections and creating index pages.

This module provides stream-based section processing that replaces
SectionOrchestrator with a declarative, reactive approach.

Flow:
    pages → finalize_sections → generate_index_pages → pages_with_indexes

## Functions



### `create_sections_stream`


```python
def create_sections_stream(pages_stream: Stream[Page], site: Site) -> Stream[Page]
```



Create a stream that finalizes sections and generates index pages.

This stream:
1. Collects all pages
2. Finalizes sections (ensures all have index pages)
3. Generates archive pages for sections without indexes
4. Enriches existing index pages with section context
5. Returns pages (including generated archive pages)


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `pages_stream` | `Stream[Page]` | - | Stream of Page objects |
| `site` | `Site` | - | Site instance (sections are stored here) |







**Returns**


`Stream[Page]` - Stream emitting all pages (original + generated archive pages)
:::{rubric} Examples
:class: rubric-examples
:::


```python
>>> pages = Stream.from_iterable(site.pages)
    >>> sections_stream = create_sections_stream(pages, site)
    >>> # After iterating, all sections have index pages
    >>> list(sections_stream.iterate())
```



---
*Generated by Bengal autodoc from `bengal/bengal/pipeline/sections.py`*
