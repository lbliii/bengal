
---
title: "lunr_index_generator"
type: "python-module"
source_file: "bengal/bengal/postprocess/output_formats/lunr_index_generator.py"
line_number: 1
description: "Pre-built Lunr.js search index generator for Bengal SSG. Generates a serialized Lunr index at build time using the Python `lunr` package, enabling faster client-side search by avoiding runtime index c..."
---

# lunr_index_generator
**Type:** Module
**Source:** [View source](bengal/bengal/postprocess/output_formats/lunr_index_generator.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[postprocess](/api/bengal/postprocess/) ›[output_formats](/api/bengal/postprocess/output_formats/) ›lunr_index_generator

Pre-built Lunr.js search index generator for Bengal SSG.

Generates a serialized Lunr index at build time using the Python `lunr` package,
enabling faster client-side search by avoiding runtime index construction.

The pre-built index is written to `search-index.json` alongside `index.json`.
Client-side search.js loads the pre-built index via `lunr.Index.load()` instead
of rebuilding from raw page data on every page load.

Configuration:
    search:
      lunr:
        prebuilt: true  # Enable pre-built index (default: true)

Performance Impact:
    - Build time: +5-10s for index pre-building
    - Runtime: ~50% faster initial search (no client-side index build)
    - Index size: ~60% smaller (pre-built is more compact)

Related:
    - index_generator.py: Source of page data (index.json)
    - search.js: Client-side search using pre-built or runtime index

## Classes




### `LunrIndexGenerator`


Generate pre-built Lunr.js search index at build time.

Uses the Python `lunr` package (pure Python implementation of Lunr.js)
to build a serialized search index that can be loaded directly by the
client-side Lunr.js library.

Field Boosts (matching search.js):
    - title: 10x (most important)
    - search_keywords: 8x (explicit search terms)
    - description: 5x (page summary)
    - tags: 3x (categorization)
    - section: 2x (content organization)
    - author: 2x (authorship)
    - content: 1x (full text)
    - kind: 1x (content type)









## Methods



#### `__init__`
```python
def __init__(self, site: Site) -> None
```


Initialize the Lunr index generator.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `site` | `Site` | - | Site instance with rendered pages |







**Returns**


`None`



#### `is_available`
```python
def is_available(self) -> bool
```


Check if the lunr Python package is available.



**Returns**


`bool` - True if lunr can be imported, False otherwise



#### `generate`
```python
def generate(self, index_json_path: Path | None = None) -> Path | None
```


Generate pre-built Lunr index from index.json.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `index_json_path` | `Path \| None` | - | Path to index.json. If None, uses default location. |







**Returns**


`Path | None` - Path to the generated search-index.json, or None if generation failed.



---
*Generated by Bengal autodoc from `bengal/bengal/postprocess/output_formats/lunr_index_generator.py`*
