
---
title: "utils"
type: "python-module"
source_file: "bengal/bengal/postprocess/output_formats/utils.py"
line_number: 1
description: "Shared utilities for output format generation. Provides common functions used across all output format generators including text processing, URL handling, and path resolution. Note: Text utilities del..."
---

# utils
**Type:** Module
**Source:** [View source](https://github.com/lbliii/bengal/blob/main/bengal/bengal/postprocess/output_formats/utils.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[postprocess](/api/bengal/postprocess/) ›[output_formats](/api/bengal/postprocess/output_formats/) ›utils

Shared utilities for output format generation.

Provides common functions used across all output format generators
including text processing, URL handling, and path resolution.

Note:
    Text utilities delegate to bengal.utils.text for DRY compliance.
    See RFC: plan/active/rfc-code-quality-improvements.md

## Functions



### `strip_html`


```python
def strip_html(text: str) -> str
```



Remove HTML tags from text and normalize whitespace.

Delegates to bengal.utils.text.strip_html with additional whitespace
normalization specific to output format generation.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `text` | `str` | - | HTML text |







**Returns**


`str` - Plain text with HTML tags, entities, and excess whitespace removed




### `generate_excerpt`


```python
def generate_excerpt(text: str, length: int = 200) -> str
```



Generate excerpt from text using character-based truncation.

Note: This uses character-based truncation for backward compatibility
with output format generation. For word-based truncation, use
bengal.utils.text.generate_excerpt directly.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `text` | `str` | - | Source text (may contain HTML) |
| `length` | `int` | `200` | Maximum character length |







**Returns**


`str` - Excerpt string, truncated at word boundary with ellipsis




### `get_page_relative_url`


```python
def get_page_relative_url(page: Page, site: Any) -> str
```



Get clean relative URL for page (without baseurl).


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `page` | `Page` | - | Page to get URL for |
| `site` | `Any` | - | Site instance |







**Returns**


`str` - Relative URL string (without baseurl)




### `get_page_url`


```python
def get_page_url(page: Page, site: Any) -> str
```



Get the public URL for a page.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `page` | `Page` | - | Page to get URL for |
| `site` | `Any` | - | Site instance |







**Returns**


`str` - Full public URL including baseurl




### `get_page_json_path`


```python
def get_page_json_path(page: Page) -> Path | None
```



Get the output path for a page's JSON file.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `page` | `Page` | - | Page to get JSON path for |







**Returns**


`Path | None` - Path for the JSON file, or None if output_path not available




### `get_page_txt_path`


```python
def get_page_txt_path(page: Page) -> Path | None
```



Get the output path for a page's TXT file.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `page` | `Page` | - | Page to get TXT path for |







**Returns**


`Path | None` - Path for the TXT file, or None if output_path not available




### `normalize_url`


```python
def normalize_url(url: str) -> str
```



Normalize a URL for consistent comparison.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `url` | `str` | - | URL to normalize |







**Returns**


`str` - Normalized URL with consistent formatting



---
*Generated by Bengal autodoc from `bengal/bengal/postprocess/output_formats/utils.py`*

