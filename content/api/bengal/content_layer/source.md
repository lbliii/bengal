
---
title: "source"
type: "python-module"
source_file: "bengal/bengal/content_layer/source.py"
line_number: 1
description: "ContentSource - Abstract base class for content sources. Defines the protocol that all content sources must implement."
---

# source
**Type:** Module
**Source:** [View source](bengal/bengal/content_layer/source.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[content_layer](/api/bengal/content_layer/) ›source

ContentSource - Abstract base class for content sources.

Defines the protocol that all content sources must implement.

## Classes




### `ContentSource`


**Inherits from:**`ABC`Abstract base class for content sources.

Implementations fetch content from various origins (local files,
remote APIs, databases) and return unified ContentEntry objects.

Subclasses must implement:
    - source_type property
    - fetch_all() async generator
    - fetch_one() async method






:::{rubric} Properties
:class: rubric-properties
:::



#### `source_type` @property

```python
def source_type(self) -> str
```
Return source type identifier.




## Methods



#### `source_type`
```python
def source_type(self) -> str
```


Return source type identifier.



**Returns**


`str` - String identifier like 'local', 'github', 'notion', 'rest'



#### `__init__`
```python
def __init__(self, name: str, config: dict[str, Any]) -> None
```


Initialize content source.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `name` | `str` | - | Unique name for this source instance (e.g., "api-docs") |
| `config` | `dict[str, Any]` | - | Source-specific configuration dictionary |







**Returns**


`None`



#### `fetch_all` @async
```python
async def fetch_all(self) -> AsyncIterator[ContentEntry]
```


Fetch all content entries from this source.

:::{info} Async Method
This is an asynchronous method. Use `await` when calling.
:::



**Returns**


`AsyncIterator[ContentEntry]`
:::{rubric} Examples
:class: rubric-examples
:::


```python
>>> async for entry in source.fetch_all():
    ...     print(entry.title)
```




#### `fetch_one` @async
```python
async def fetch_one(self, id: str) -> ContentEntry | None
```


Fetch a single content entry by ID.

:::{info} Async Method
This is an asynchronous method. Use `await` when calling.
:::


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `id` | `str` | - | Source-specific identifier (e.g., file path, doc ID) |







**Returns**


`ContentEntry | None` - ContentEntry if found, None otherwise



#### `get_cache_key`
```python
def get_cache_key(self) -> str
```


Generate cache key for this source configuration.

Used to invalidate cache when config changes. Override for
custom cache key logic.



**Returns**


`str` - 16-character hex string based on config hash



#### `get_last_modified` @async
```python
async def get_last_modified(self) -> datetime | None
```


Get last modification time for the entire source.

Used for cache invalidation. Returns None if unknown or not supported.

:::{info} Async Method
This is an asynchronous method. Use `await` when calling.
:::



**Returns**


`datetime | None` - Last modification datetime or None



#### `is_changed` @async
```python
async def is_changed(self, cached_checksum: str | None) -> bool
```


Check if source content has changed since last fetch.

:::{info} Async Method
This is an asynchronous method. Use `await` when calling.
:::


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `cached_checksum` | `str \| None` | - | Previously cached checksum |







**Returns**


`bool` - True if content may have changed, False if definitely unchanged



#### `fetch_all_sync`
```python
def fetch_all_sync(self) -> Iterator[ContentEntry]
```


Synchronous wrapper for fetch_all().

Runs the async generator in a new event loop.



**Returns**


`Iterator[ContentEntry]`



#### `fetch_one_sync`
```python
def fetch_one_sync(self, id: str) -> ContentEntry | None
```


Synchronous wrapper for fetch_one().


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `id` | `str` | - | Source-specific identifier |







**Returns**


`ContentEntry | None` - ContentEntry if found, None otherwise



#### `__repr__`
```python
def __repr__(self) -> str
```


*No description provided.*



**Returns**


`str`



---
*Generated by Bengal autodoc from `bengal/bengal/content_layer/source.py`*
