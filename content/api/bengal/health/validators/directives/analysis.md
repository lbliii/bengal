
---
title: "analysis"
type: "python-module"
source_file: "bengal/bengal/health/validators/directives/analysis.py"
line_number: 1
description: "Directive analysis module. Extracts and analyzes directive blocks from markdown content. Build-Integrated Validation: When a BuildContext with cached content is provided, the analyzer uses cached cont..."
---

# analysis
**Type:** Module
**Source:** [View source](bengal/bengal/health/validators/directives/analysis.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[health](/api/bengal/health/) ›[validators](/api/bengal/health/validators/) ›[directives](/api/bengal/health/validators/directives/) ›analysis

Directive analysis module.

Extracts and analyzes directive blocks from markdown content.

Build-Integrated Validation:
    When a BuildContext with cached content is provided, the analyzer uses
    cached content instead of re-reading files from disk. This eliminates
    ~4 seconds of redundant disk I/O during health checks (773 files).

    See: plan/active/rfc-build-integrated-validation.md

## Classes




### `DirectiveAnalyzer`


Analyzes directive usage across a site.

Extracts directives from markdown content, validates their structure,
and collects statistics for reporting.

Build-Integrated Validation:
    When analyze_from_context() is used with cached content, the analyzer
    avoids disk I/O entirely, reducing health check time from ~4.6s to <100ms.









## Methods



#### `analyze`
```python
def analyze(self, site: Site, build_context: BuildContext | Any | None = None) -> dict[str, Any]
```


Analyze all directives in site source files.

Uses cached content from build_context when available to avoid
redundant disk I/O (~4 seconds saved for 773-page sites).


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `site` | `Site` | - | Site instance to analyze |
| `build_context` | `BuildContext \| Any \| None` | - | Optional BuildContext with cached page contents. When provided, uses cached content instead of reading from disk (build-integrated validation). |







**Returns**


`dict[str, Any]` - Dictionary with directive statistics and issues



---
*Generated by Bengal autodoc from `bengal/bengal/health/validators/directives/analysis.py`*
