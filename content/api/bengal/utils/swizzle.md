
---
title: "swizzle"
type: "python-module"
source_file: "bengal/utils/swizzle.py"
line_number: 1
description: "SwizzleManager - Safe template override management for themes. Features: - Copy (\"swizzle\") a theme template/partial into project `templates/` preserving relative path - Track provenance in `.bengal/t..."
---

# swizzle
**Type:** Module
**Source:** [View source](bengal/utils/swizzle.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[utils](/api/bengal/utils/) ›swizzle

SwizzleManager - Safe template override management for themes.

Features:
- Copy ("swizzle") a theme template/partial into project `templates/` preserving relative path
- Track provenance in `.bengal/themes/sources.json`
- List swizzled files
- Naive update: if local file is unchanged from its original swizzle, replace with upstream

Note: Three-way merge can be added later; for now we only auto-update when no local edits.

## Classes




### `SwizzleRecord`


*No class description provided.*



**Attributes:**

:::{div} api-attributes
`target`
: 

`source`
: 

`theme`
: 

`upstream_checksum`
: 

`local_checksum`
: 

`timestamp`
: 

:::










### `SwizzleManager`


*No class description provided.*









## Methods



#### `__init__`

:::{div} api-badge-group
:::

```python
def __init__(self, site: Site) -> None
```


*No description provided.*


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `site` | `Site` | - | *No description provided.* |







:::{rubric} Returns
:class: rubric-returns
:::


`None`



#### `swizzle`

:::{div} api-badge-group
:::

```python
def swizzle(self, template_rel_path: str) -> Path
```


Copy a theme template into project templates/ and record provenance.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `template_rel_path` | `str` | - | Relative path inside theme templates/ (e.g., 'partials/toc.html') |







:::{rubric} Returns
:class: rubric-returns
:::


`Path` - Path to copied file under project templates/



#### `list`

:::{div} api-badge-group
:::

```python
def list(self) -> builtins.list[SwizzleRecord]
```


*No description provided.*



:::{rubric} Returns
:class: rubric-returns
:::


`builtins.list[SwizzleRecord]`



#### `list_swizzled`

:::{div} api-badge-group
:::

```python
def list_swizzled(self) -> builtins.list[SwizzleRecord]
```


Alias for list() for backward compatibility.



:::{rubric} Returns
:class: rubric-returns
:::


`builtins.list[SwizzleRecord]`



#### `update`

:::{div} api-badge-group
:::

```python
def update(self) -> dict[str, int]
```


Attempt to update swizzled files from upstream if local is unchanged.

Returns a summary dict with counts: {updated, skipped_changed, missing_upstream}



:::{rubric} Returns
:class: rubric-returns
:::


`dict[str, int]`



---
*Generated by Bengal autodoc from `bengal/utils/swizzle.py`*

