
---
title: "traceback_config"
type: "python-module"
source_file: "bengal/bengal/utils/traceback_config.py"
line_number: 1
description: "Centralized configuration for traceback formatting and rendering. Provides a simple configuration object with a style (full/compact/minimal/off), and utilities to install Rich\'s global exception hook ..."
---

# traceback_config
**Type:** Module
**Source:** [View source](bengal/bengal/utils/traceback_config.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[utils](/api/bengal/utils/) ›traceback_config

Centralized configuration for traceback formatting and rendering.

Provides a simple configuration object with a style (full/compact/minimal/off),
and utilities to install Rich's global exception hook based on the active style.

MVP: Sources configuration from CLI-provided env var (BENGAL_TRACEBACK) → defaults.
Future: Extend to read from site config and config files.

## Classes




### `TracebackStyle`


**Inherits from:**`Enum`*No class description provided.*












### `TracebackConfig`


Configuration for traceback display and rich install options.


:::{info}
This is a dataclass.
:::



**Attributes:**

| Name | Type | Description |
|:-----|:-----|:------------|
| `style` | - | *No description provided.* |
| `show_locals` | - | *No description provided.* |
| `max_frames` | - | *No description provided.* |
| `suppress` | - | *No description provided.* |







## Methods



#### `from_environment` @classmethod
```python
def from_environment(cls) -> TracebackConfig
```


Load configuration from environment variables (MVP).

Precedence: BENGAL_TRACEBACK → defaults.



**Returns**


`TracebackConfig`



#### `install`
```python
def install(self) -> None
```


Install Rich traceback handler according to config and environment.

- If style == OFF: do not install rich hook (use standard Python)
- If in CI or non-TTY, rely on rich_console.should_use_rich to skip



**Returns**


`None`



#### `get_renderer`
```python
def get_renderer(self) -> TracebackRenderer
```


*No description provided.*



**Returns**


`TracebackRenderer`

## Functions



### `set_effective_style_from_cli`


```python
def set_effective_style_from_cli(style_value: str | None) -> None
```



Helper to set the process env for traceback style from a CLI flag.

This allows downstream code that calls TracebackConfig.from_environment()
to see the user choice consistently.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `style_value` | `str \| None` | - | *No description provided.* |







**Returns**


`None`




### `map_debug_flag_to_traceback`


```python
def map_debug_flag_to_traceback(debug: bool, current: str | None = None) -> None
```



Map legacy --debug flag to traceback=full unless user explicitly set one.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `debug` | `bool` | - | *No description provided.* |
| `current` | `str \| None` | - | *No description provided.* |







**Returns**


`None`




### `apply_file_traceback_to_env`


```python
def apply_file_traceback_to_env(site_config: dict | None) -> None
```



Apply file-based traceback config ([dev.traceback]) to environment.

Precedence: existing env vars win. Only set if not already present.
Expected structure:
    site_config["dev"]["traceback"] = {
        "style": "compact|full|minimal|off",
        "show_locals": bool,
        "max_frames": int,
        "suppress": ["click", "jinja2"],
    }


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `site_config` | `dict \| None` | - | *No description provided.* |







**Returns**


`None`



---
*Generated by Bengal autodoc from `bengal/bengal/utils/traceback_config.py`*
