
---
title: "reload_controller"
type: "python-module"
source_file: "bengal/bengal/server/reload_controller.py"
line_number: 1
description: "ReloadController: Decide when and how to reload based on output diffs. Scans the built output directory (e.g., public/) after each build and compares against the prior snapshot to determine whether: -..."
---

# reload_controller
**Type:** Module
**Source:** [View source](bengal/bengal/server/reload_controller.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[server](/api/bengal/server/) ›reload_controller

ReloadController: Decide when and how to reload based on output diffs.

Scans the built output directory (e.g., public/) after each build and
compares against the prior snapshot to determine whether:
 - no reload is needed
 - CSS-only hot reload is sufficient
 - a full page reload is required

Uses file size and modification time for fast diffing. This is sufficient
for dev; a hashing option can be added later if needed.

## Classes




### `SnapshotEntry`


*No class description provided.*



**Attributes:**

| Name | Type | Description |
|:-----|:-----|:------------|
| `size` | - | *No description provided.* |
| `mtime` | - | *No description provided.* |










### `OutputSnapshot`


*No class description provided.*


:::{info}
This is a dataclass.
:::



**Attributes:**

| Name | Type | Description |
|:-----|:-----|:------------|
| `files` | - | *No description provided.* |










### `ReloadDecision`


*No class description provided.*


:::{info}
This is a dataclass.
:::



**Attributes:**

| Name | Type | Description |
|:-----|:-----|:------------|
| `action` | - | *No description provided.* |
| `reason` | - | *No description provided.* |
| `changed_paths` | - | *No description provided.* |










### `ReloadController`


*No class description provided.*









## Methods



#### `__init__`
```python
def __init__(self, min_notify_interval_ms: int = 300, ignored_globs: list[str] | None = None, hash_on_suspect: bool = True, suspect_hash_limit: int = 200, suspect_size_limit_bytes: int = 2000000) -> None
```


*No description provided.*


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `min_notify_interval_ms` | `int` | `300` | *No description provided.* |
| `ignored_globs` | `list[str] \| None` | - | *No description provided.* |
| `hash_on_suspect` | `bool` | `True` | *No description provided.* |
| `suspect_hash_limit` | `int` | `200` | *No description provided.* |
| `suspect_size_limit_bytes` | `int` | `2000000` | *No description provided.* |







**Returns**


`None`



#### `set_min_notify_interval_ms`
```python
def set_min_notify_interval_ms(self, value: int) -> None
```


*No description provided.*


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `value` | `int` | - | *No description provided.* |







**Returns**


`None`



#### `set_ignored_globs`
```python
def set_ignored_globs(self, globs: list[str] | None) -> None
```


*No description provided.*


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `globs` | `list[str] \| None` | - | *No description provided.* |







**Returns**


`None`



#### `set_hashing_options`
```python
def set_hashing_options(self) -> None
```


*No description provided.*



**Returns**


`None`



#### `decide_and_update`
```python
def decide_and_update(self, output_dir: Path) -> ReloadDecision
```


*No description provided.*


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `output_dir` | `Path` | - | *No description provided.* |







**Returns**


`ReloadDecision`



#### `decide_from_changed_paths`
```python
def decide_from_changed_paths(self, changed_paths: list[str]) -> ReloadDecision
```


Classify a given list of changed output paths.

Applies ignore globs and throttling consistently with decide_and_update.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `changed_paths` | `list[str]` | - | *No description provided.* |







**Returns**


`ReloadDecision`



---
*Generated by Bengal autodoc from `bengal/bengal/server/reload_controller.py`*

