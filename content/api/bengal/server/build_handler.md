
---
title: "build_handler"
type: "python-module"
source_file: "../bengal/bengal/server/build_handler.py"
line_number: 1
description: "File system event handler for automatic site rebuilds. Watches for file changes and triggers incremental rebuilds with debouncing."
---

# build_handler
**Type:** Module
**Source:** [View source](../bengal/bengal/server/build_handler.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[server](/api/bengal/server/) ›build_handler

File system event handler for automatic site rebuilds.

Watches for file changes and triggers incremental rebuilds with debouncing.

## Classes




### `BuildHandler`


**Inherits from:**`FileSystemEventHandler`File system event handler that triggers site rebuild with debouncing.

Dev reload policy (source-gated):
- Only source edits (markdown/content, config, templates, theme assets) trigger reloads.
- CSS-only source edits send reload-css; any other source edits send full reload.
- We do NOT scan output directories for diffs in dev; this avoids dev-only churn
  (timestamps, site-wide JSON/TXT) from causing spurious reloads.

Features:
- Debounced rebuilds (0.3s delay to batch changes)
- Incremental builds for speed (5-10x faster)
- Parallel rendering
- Stale object reference prevention (clears ephemeral state)
- Build error recovery (errors don't crash server)
- Automatic cache invalidation for config/template changes
- Handles all file events: create, modify, delete, move/rename

Ignored files:
- Output directory (public/)
- Build logs (.bengal-build.log)
- Cache files (.bengal-cache.json)
- Temp files (.tmp, ~, .swp, .swo)
- System files (.DS_Store, .git)
- Python cache (__pycache__, .pyc)









## Methods



#### `__init__`
```python
def __init__(self, site: Any, host: str = 'localhost', port: int = 5173) -> None
```


Initialize the build handler.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `site` | `Any` | - | Site instance |
| `host` | `str` | `'localhost'` | Server host |
| `port` | `int` | `5173` | Server port |







**Returns**


`None`







#### `on_created`
```python
def on_created(self, event: FileSystemEvent) -> None
```


Handle file creation events.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `event` | `FileSystemEvent` | - | File system event |







**Returns**


`None`



#### `on_modified`
```python
def on_modified(self, event: FileSystemEvent) -> None
```


Handle file modification events.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `event` | `FileSystemEvent` | - | File system event |







**Returns**


`None`



#### `on_deleted`
```python
def on_deleted(self, event: FileSystemEvent) -> None
```


Handle file deletion events.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `event` | `FileSystemEvent` | - | File system event |







**Returns**


`None`



#### `on_moved`
```python
def on_moved(self, event: FileSystemEvent) -> None
```


Handle file move/rename events.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `event` | `FileSystemEvent` | - | File system event with src_path and dest_path |







**Returns**


`None`



---
*Generated by Bengal autodoc from `../bengal/bengal/server/build_handler.py`*
