
---
title: "content"
type: "python-module"
source_file: "bengal/bengal/core/page/content.py"
line_number: 1
description: "Page Content Mixin - AST-based content representation. This module provides the true AST architecture for content processing, replacing the misleading `parsed_ast` field (which actually contains HTML)..."
---

# content
**Type:** Module
**Source:** [View source](bengal/bengal/core/page/content.py#L1)



**Navigation:**
[bengal](/api/bengal/) ›[core](/api/bengal/core/) ›[page](/api/bengal/core/page/) ›content

Page Content Mixin - AST-based content representation.

This module provides the true AST architecture for content processing,
replacing the misleading `parsed_ast` field (which actually contains HTML).

Architecture:
    - _ast: True AST from parser (list of tokens) - Phase 3
    - html: HTML rendered from AST (or legacy parsed_ast)
    - plain_text: Plain text for search/LLM (AST walk or raw markdown)

Benefits:
    - Parse once, use many times
    - Faster post-processing (O(n) AST walks vs regex)
    - Cleaner transformations (shortcodes at AST level)
    - Better caching (cache AST separately from HTML)

Migration Plan:
    Phase 1: Add html, plain_text properties (non-breaking)
    Phase 2: Deprecate parsed_ast
    Phase 3: Implement true AST with hybrid fallback

See: plan/active/rfc-content-ast-architecture.md

## Classes




### `PageContentMixin`


Mixin providing AST-based content properties for pages.

This mixin handles content representation across multiple formats:
- AST (Abstract Syntax Tree) - structural representation (Phase 3)
- HTML - rendered for display
- Plain text - for search indexing and LLM

All properties use lazy evaluation with caching for performance.



**Attributes:**

| Name | Type | Description |
|:-----|:-----|:------------|
| `content` | - | *No description provided.* |
| `parsed_ast` | - | *No description provided.* |
| `links` | - | *No description provided.* |
| `_ast_cache` | - | *No description provided.* |
| `_html_cache` | - | *No description provided.* |
| `_plain_text_cache` | - | *No description provided.* |




:::{rubric} Properties
:class: rubric-properties
:::



#### `ast` @property

```python
def ast(self) -> list[dict[str, Any]] | None
```
True AST - list of tokens from markdown parser.

Returns the structural representation of content as parsed by the
markdown engine. This enables efficient multi-output generation:
- HTML rendering
- Plain text extraction
- TOC generation
- Link extraction

#### `html` @property

```python
def html(self) -> str
```
HTML content rendered from AST or legacy parser.

This is the preferred way to access rendered HTML content.
Use this instead of the deprecated `parsed_ast` field.

#### `plain_text` @property

```python
def plain_text(self) -> str
```
Plain text extracted from content (for search/LLM).

        Strips HTML tags from rendered content to get clean text.
        Uses the rendered HTML (which includes directive output) for accuracy.




## Methods



#### `ast`
```python
def ast(self) -> list[dict[str, Any]] | None
```


True AST - list of tokens from markdown parser.

Returns the structural representation of content as parsed by the
markdown engine. This enables efficient multi-output generation:
- HTML rendering
- Plain text extraction
- TOC generation
- Link extraction



**Returns**


`list[dict[str, Any]] | None` - List of AST tokens if available, None if parser doesn't support AST.
:::{rubric} Examples
:class: rubric-examples
:::


```python
>>> page.ast
    [{'type': 'heading', 'level': 1, 'children': [...]}, ...]
```

:::{note}Returns None until Phase 3 AST support is implemented. See plan/active/rfc-content-ast-architecture.md for timeline.:::




#### `html`
```python
def html(self) -> str
```


HTML content rendered from AST or legacy parser.

This is the preferred way to access rendered HTML content.
Use this instead of the deprecated `parsed_ast` field.



**Returns**


`str` - Rendered HTML string
:::{rubric} Examples
:class: rubric-examples
:::


```python
>>> page.html
    '<h1>Hello World</h1><p>Content here...</p>'
```




#### `plain_text`
```python
def plain_text(self) -> str
```


Plain text extracted from content (for search/LLM).

        Strips HTML tags from rendered content to get clean text.
        Uses the rendered HTML (which includes directive output) for accuracy.



**Returns**


`str` - Plain text content with HTML tags removed
:::{rubric} Examples
:class: rubric-examples
:::


```python
>>> page.plain_text
            'Hello World

Content here without any formatting...'
```



---
*Generated by Bengal autodoc from `bengal/bengal/core/page/content.py`*
