
---
title: "benchmark_history"
type: "python-module"
source_file: "bengal/benchmarks/benchmark_history.py"
line_number: 1
description: "Benchmark history tracking with append-only log. Automatically captures benchmark results with timestamps for measuring performance across patches, commits, and releases."
---

# benchmark_history
**Type:** Module
**Source:** [View source](bengal/benchmarks/benchmark_history.py#L1)



**Navigation:**
[benchmarks](/api/benchmarks/) â€ºbenchmark_history

Benchmark history tracking with append-only log.

Automatically captures benchmark results with timestamps for measuring
performance across patches, commits, and releases.

## Classes




### `BenchmarkHistoryLogger`


Append-only benchmark history log with timestamps and metadata.









## Methods



#### `__init__`
```python
def __init__(self, log_file: Path | None = None)
```


Initialize history logger.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `log_file` | `Path \| None` | - | Path to append-only log file. Defaults to .benchmarks/history.jsonl |








#### `log_run`
```python
def log_run(self, results: dict[str, Any], git_commit: str | None = None, git_branch: str | None = None, version: str | None = None, metadata: dict[str, Any] | None = None) -> None
```


Log a benchmark run with timestamp and metadata.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `results` | `dict[str, Any]` | - | Dictionary of benchmark results from pytest-benchmark |
| `git_commit` | `str \| None` | - | Git commit hash (optional) |
| `git_branch` | `str \| None` | - | Git branch name (optional) |
| `version` | `str \| None` | - | Application version (optional) |
| `metadata` | `dict[str, Any] \| None` | - | Additional metadata to track (optional) |







**Returns**


`None`



#### `get_history`
```python
def get_history(self, limit: int | None = None) -> list[dict[str, Any]]
```


Read benchmark history.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `limit` | `int \| None` | - | Maximum number of recent entries to return (None = all) |







**Returns**


`list[dict[str, Any]]` - List of benchmark history entries, most recent last.



#### `get_latest_results`
```python
def get_latest_results(self) -> dict[str, Any] | None
```


Get the most recent benchmark run.



**Returns**


`dict[str, Any] | None`



#### `export_csv`
```python
def export_csv(self, output_file: Path, metric: str = 'mean') -> None
```


Export benchmark history as CSV for analysis and graphing.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `output_file` | `Path` | - | Path to write CSV file |
| `metric` | `str` | `'mean'` | Metric to extract (mean, min, max, stddev, etc) |







**Returns**


`None`



#### `print_summary`
```python
def print_summary(self, last_n: int = 5) -> None
```


Print a summary of recent benchmark runs.


**Parameters:**

| Name | Type | Default | Description |
|:-----|:-----|:--------|:------------|
| `last_n` | `int` | `5` | Number of recent runs to show |







**Returns**


`None`



---
*Generated by Bengal autodoc from `bengal/benchmarks/benchmark_history.py`*
